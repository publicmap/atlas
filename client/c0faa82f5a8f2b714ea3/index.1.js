(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{22:function(e,t,l){"use strict";l.r(t);var o=l(0),s=l(18),a=l(1);const c={};var n=l(9);function i(e,t,l){const{getMap:o,getMapbox:s}=Object(a.c)(c),i=o();s();let{position:r="bottom-right"}=t,{options:p={}}=t;return i.addControl(new n.a,r),e.$$set=e=>{"position"in e&&l(0,r=e.position),"options"in e&&l(1,p=e.options)},[r,p]}class r extends o.a{constructor(e){super(),Object(o.C)(this,e,i,null,o.L,{position:0,options:1})}}var p=r;function b(e,t,l){const{getMap:o,getMapbox:s}=Object(a.c)(c),n=o();s();let{position:i="bottom-left"}=t,{options:r={}}=t;class p{constructor(e={}){this.container=document.createElement("div")}onAdd(e){return this.map=e,this.map.on("mapTitle",this.titleListener),this.container}onRemove(){this.map.off("mapTitle",this.titleListener),this.map=void 0}styleChangeListener(){this.map.off("mapTitle",this.titleListener),this.setTitle("HI")}setTitle(e){return e}}return n.addControl(new p,i),e.$$set=e=>{"position"in e&&l(0,i=e.position),"options"in e&&l(1,r=e.options)},[i,r,p]}class m extends o.a{constructor(e){super(),Object(o.C)(this,e,b,null,o.L,{position:0,options:1,LanguageControl:2})}get LanguageControl(){return this.$$.ctx[2]}}var u=m,d=l(13);function j(e,t,l){const o=Object(a.b)(),{getMap:s,getMapbox:n}=Object(a.c)(c),i=s();n();let{styles:r=[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v9"},{label:"Satellite",styleName:"Satellite",styleUrl:"mapbox://styles/mapbox/satellite-v9"}]}=t,{position:p="bottom-right"}=t;return i.addControl(new d.a({styles:r,onChange:e=>o("change",{style:e})}),p),e.$$set=e=>{"styles"in e&&l(0,r=e.styles),"position"in e&&l(1,p=e.position)},[r,p]}class O extends o.a{constructor(e){super(),Object(o.C)(this,e,j,null,o.L,{styles:0,position:1})}}var h=O,y=l(2);Object(y.a)({title:"Public Map"});var g=l(3),f=l(6);const{document:$}=o.A;function v(e){let t,l=(e[0].pageTitle||e[0].map.locationContext.features.length&&e[0].map.locationContext.features.filter(z)[0].text+"/"+e[0].map.locationContext.features.filter(_)[0].text||"")+"";return{c(){t=Object(o.R)(l)},l(e){t=Object(o.n)(e,l)},m(e,l){Object(o.D)(e,t,l)},p(e,s){1&s[0]&&l!==(l=(e[0].pageTitle||e[0].map.locationContext.features.length&&e[0].map.locationContext.features.filter(z)[0].text+"/"+e[0].map.locationContext.features.filter(_)[0].text||"")+"")&&Object(o.N)(t,l)},d(e){e&&Object(o.u)(t)}}}function x(e){let t,l,s,a;return{c(){t=Object(o.v)("span"),l=Object(o.R)(e[3]),s=Object(o.P)(),a=Object(o.v)("br"),this.h()},l(c){t=Object(o.l)(c,"SPAN",{class:!0});var n=Object(o.j)(t);l=Object(o.n)(n,e[3]),n.forEach(o.u),s=Object(o.m)(c),a=Object(o.l)(c,"BR",{class:!0}),this.h()},h(){Object(o.f)(t,"class","svelte-18z6i22"),Object(o.f)(a,"class","svelte-18z6i22")},m(e,c){Object(o.D)(e,t,c),Object(o.d)(t,l),Object(o.D)(e,s,c),Object(o.D)(e,a,c)},p(e,t){8&t[0]&&Object(o.N)(l,e[3])},d(e){e&&Object(o.u)(t),e&&Object(o.u)(s),e&&Object(o.u)(a)}}}function w(e){let t,l,s,a,c,n,i=e[0].map.styleName?e[0].map.styleName+" by "+e[0].map.stylesheet.owner:"Loading";return{c(){t=Object(o.v)("small"),l=Object(o.v)("span"),s=Object(o.R)("Map Style:\n        "),a=Object(o.v)("a"),c=Object(o.R)(i),this.h()},l(e){t=Object(o.l)(e,"SMALL",{class:!0});var n=Object(o.j)(t);l=Object(o.l)(n,"SPAN",{});var r=Object(o.j)(l);s=Object(o.n)(r,"Map Style:\n        "),a=Object(o.l)(r,"A",{class:!0,href:!0});var p=Object(o.j)(a);c=Object(o.n)(p,i),p.forEach(o.u),r.forEach(o.u),n.forEach(o.u),this.h()},h(){Object(o.f)(a,"class","uk-link-text"),Object(o.f)(a,"href",n=`https://api.mapbox.com/styles/v1/${e[0].map.stylesheet.owner}/${e[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${e[0].map.accessToken}${window.location.hash}`),Object(o.f)(t,"class","svelte-18z6i22")},m(e,n){Object(o.D)(e,t,n),Object(o.d)(t,l),Object(o.d)(l,s),Object(o.d)(l,a),Object(o.d)(a,c)},p(e,t){1&t[0]&&i!==(i=e[0].map.styleName?e[0].map.styleName+" by "+e[0].map.stylesheet.owner:"Loading")&&Object(o.N)(c,i),1&t[0]&&n!==(n=`https://api.mapbox.com/styles/v1/${e[0].map.stylesheet.owner}/${e[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${e[0].map.accessToken}${window.location.hash}`)&&Object(o.f)(a,"href",n)},d(e){e&&Object(o.u)(t)}}}function k(e){let t,l,s,a,c,n,i,r,b,m,d,j;return t=new h({props:{styles:e[0].map.styles}}),t.$on("change",e[9]),s=new e[5]({props:{position:"top-right",options:{trackUserLocation:!0}}}),s.$on("geolocate",S),c=new e[6]({}),i=new e[7]({props:{position:"bottom-left"}}),b=new p({props:{position:"bottom-left"}}),d=new u({}),{c(){Object(o.q)(t.$$.fragment),l=Object(o.P)(),Object(o.q)(s.$$.fragment),a=Object(o.P)(),Object(o.q)(c.$$.fragment),n=Object(o.P)(),Object(o.q)(i.$$.fragment),r=Object(o.P)(),Object(o.q)(b.$$.fragment),m=Object(o.P)(),Object(o.q)(d.$$.fragment)},l(e){Object(o.k)(t.$$.fragment,e),l=Object(o.m)(e),Object(o.k)(s.$$.fragment,e),a=Object(o.m)(e),Object(o.k)(c.$$.fragment,e),n=Object(o.m)(e),Object(o.k)(i.$$.fragment,e),r=Object(o.m)(e),Object(o.k)(b.$$.fragment,e),m=Object(o.m)(e),Object(o.k)(d.$$.fragment,e)},m(e,p){Object(o.F)(t,e,p),Object(o.D)(e,l,p),Object(o.F)(s,e,p),Object(o.D)(e,a,p),Object(o.F)(c,e,p),Object(o.D)(e,n,p),Object(o.F)(i,e,p),Object(o.D)(e,r,p),Object(o.F)(b,e,p),Object(o.D)(e,m,p),Object(o.F)(d,e,p),j=!0},p(e,l){const o={};1&l[0]&&(o.styles=e[0].map.styles),t.$set(o)},i(e){j||(Object(o.S)(t.$$.fragment,e),Object(o.S)(s.$$.fragment,e),Object(o.S)(c.$$.fragment,e),Object(o.S)(i.$$.fragment,e),Object(o.S)(b.$$.fragment,e),Object(o.S)(d.$$.fragment,e),j=!0)},o(e){Object(o.T)(t.$$.fragment,e),Object(o.T)(s.$$.fragment,e),Object(o.T)(c.$$.fragment,e),Object(o.T)(i.$$.fragment,e),Object(o.T)(b.$$.fragment,e),Object(o.T)(d.$$.fragment,e),j=!1},d(e){Object(o.s)(t,e),e&&Object(o.u)(l),Object(o.s)(s,e),e&&Object(o.u)(a),Object(o.s)(c,e),e&&Object(o.u)(n),Object(o.s)(i,e),e&&Object(o.u)(r),Object(o.s)(b,e),e&&Object(o.u)(m),Object(o.s)(d,e)}}}function C(e){let t,l,a,c,n,i,r,p,b,m,u,d,j=(e[0].pageTitle||e[0].map.filter.iso_3166_1)&&v(e),O=e[3]&&x(e),h=e[0].map.stylesheet&&w(e),y={accessToken:e[0].map.accessToken,style:e[0].map.styleUrl,options:{hash:!0,attributionControl:!0,customAttribution:e[2]},version:"v2.0.1",$$slots:{default:[k]},$$scope:{ctx:e}};b=new s.a({props:y}),e[11](b),b.$on("ready",e[8]),b.$on("recentre",e[10]);let g=!1;return{c(){t=Object(o.v)("section"),l=Object(o.v)("h1"),a=Object(o.v)("span"),j&&j.c(),c=Object(o.P)(),n=Object(o.v)("p"),O&&O.c(),i=Object(o.P)(),h&&h.c(),r=Object(o.P)(),p=Object(o.v)("div"),Object(o.q)(b.$$.fragment),m=Object(o.P)(),u=Object(o.v)("div"),g&&g.c(),this.h()},l(e){t=Object(o.l)(e,"SECTION",{class:!0});var s=Object(o.j)(t);l=Object(o.l)(s,"H1",{class:!0});var d=Object(o.j)(l);a=Object(o.l)(d,"SPAN",{class:!0});var y=Object(o.j)(a);j&&j.l(y),y.forEach(o.u),d.forEach(o.u),c=Object(o.m)(s),n=Object(o.l)(s,"P",{id:!0,class:!0});var f=Object(o.j)(n);O&&O.l(f),i=Object(o.m)(f),h&&h.l(f),f.forEach(o.u),s.forEach(o.u),r=Object(o.m)(e),p=Object(o.l)(e,"DIV",{id:!0,class:!0});var $=Object(o.j)(p);Object(o.k)(b.$$.fragment,$),$.forEach(o.u),m=Object(o.m)(e),u=Object(o.l)(e,"DIV",{id:!0,class:!0});var v=Object(o.j)(u);g&&g.l(v),v.forEach(o.u),this.h()},h(){Object(o.f)(a,"class","block svelte-18z6i22"),Object(o.f)(l,"class","uk-no-margin"),Object(o.f)(n,"id","description"),Object(o.f)(n,"class","uk-text-lead svelte-18z6i22"),Object(o.f)(t,"class","svelte-18z6i22"),Object(o.f)(p,"id","map"),Object(o.f)(p,"class","svelte-18z6i22"),Object(o.f)(u,"id","locator-map"),Object(o.f)(u,"class","svelte-18z6i22")},m(e,s){Object(o.D)(e,t,s),Object(o.d)(t,l),Object(o.d)(l,a),j&&j.m(a,null),Object(o.d)(t,c),Object(o.d)(t,n),O&&O.m(n,null),Object(o.d)(n,i),h&&h.m(n,null),Object(o.D)(e,r,s),Object(o.D)(e,p,s),Object(o.F)(b,p,null),Object(o.D)(e,m,s),Object(o.D)(e,u,s),g&&g.m(u,null),d=!0},p(e,t){e[0].pageTitle||e[0].map.filter.iso_3166_1?j?j.p(e,t):(j=v(e),j.c(),j.m(a,null)):j&&(j.d(1),j=null),e[3]?O?O.p(e,t):(O=x(e),O.c(),O.m(n,i)):O&&(O.d(1),O=null),e[0].map.stylesheet?h?h.p(e,t):(h=w(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null);const l={};1&t[0]&&(l.accessToken=e[0].map.accessToken),1&t[0]&&(l.style=e[0].map.styleUrl),4&t[0]&&(l.options={hash:!0,attributionControl:!0,customAttribution:e[2]}),1&t[0]|1&t[1]&&(l.$$scope={dirty:t,ctx:e}),b.$set(l),g&&(g.d(1),g=null)},i(e){d||(Object(o.S)(b.$$.fragment,e),d=!0)},o(e){Object(o.T)(b.$$.fragment,e),d=!1},d(l){l&&Object(o.u)(t),j&&j.d(),O&&O.d(),h&&h.d(),l&&Object(o.u)(r),l&&Object(o.u)(p),e[11](null),Object(o.s)(b),l&&Object(o.u)(m),l&&Object(o.u)(u),g&&g.d()}}}function S(e){}const z=e=>e.place_type.indexOf("country")>-1,_=e=>e.place_type.indexOf("region")>-1;function T(e,t,n){let i;l(14);const{preloading:r,page:p,session:b}=Object(g.b)();Object(o.o)(e,p,e=>n(14,i=e));const{GeolocateControl:m,NavigationControl:u,ScaleControl:d}=s.b;let j,O,h;Object(a.f)(c,{getMap:()=>j,getMapbox:()=>O});let{settings:y={user:{locale:"en-US",language:"en",fallbackLanguage:"en",location:{iso_3166_1:null,geoip:null,gps:null}},map:{accessToken:null,attribution:null,worldview:"US",style:null,styles:[{label:"Satellite",styleName:"Mapbox Satellite",styleUrl:"mapbox://styles/mapbox/satellite-streets-v11"},{label:"Railway",styleName:"Railway",styleUrl:"mapbox://styles/planemad/ck7p3wxmp0q571imu99elwqs1"},{label:"Hydrology",styleName:"Hydrology",styleUrl:"mapbox://styles/planemad/ckd42fwa20n531iqrewerwla1"},{label:"OpenStreetMap",styleName:"OpenStreetMap",styleUrl:"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik-india-v8.json"},{label:"Connectivity",styleName:"Connectivity",styleUrl:"mapbox://styles/planemad/ckhijjwug10ht19mjwvno5o38"}],locationContext:null,filter:{iso_3166_1:null,iso_3166_1_label:"...",iso_3166_2:null,iso_3166_2_label:null}}}}=t;function $(e){let t=j.getCenter(),l=`https://api.mapbox.com/geocoding/v5/mapbox.places/${t.lng}%2C${t.lat}.json?access_token=${y.map.accessToken}&worldview=${y.map.worldview.toLocaleLowerCase()}&types=country%2Cregion%2Cdistrict%2Cpostcode%2Clocality%2Cplace%2Cneighborhood%2Caddress%2Cpoi&language=${y.user.language}`;fetch(l).then(e=>e.json()).then(e=>{n(0,y.map.locationContext=e,y),e.features.length&&(n(0,y.map.filter.iso_3166_1_label=e.features[e.features.length-1]["text_"+y.user.language],y),n(0,y.map.filter.iso_3166_1=e.features[e.features.length-1].properties.short_code,y))})}function v(){if(n(0,y.map.styleName=j.getStyle().name,y),n(0,y.map.stylesheet=j.style.stylesheet,y),w>0&&(j.getSource("mapbox-dem")||(j.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),j.setTerrain({source:"mapbox-dem",exaggeration:["interpolate",["linear"],["zoom"],0,w*Math.pow(2,4),1,w*Math.pow(2,3),2,w*Math.pow(2,2),10,w*Math.pow(2,1),16,1]}))),!j.getSource("3d-hillshade")){j.addSource("3d-hillshade",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14});let e=j.getStyle().layers.filter(e=>"symbol"==e.type);j.addLayer({id:"3d-hillshade",source:"3d-hillshade",type:"hillshade",paint:{"hillshade-shadow-color":"#0f0f0f","hillshade-highlight-color":"#ffffff","hillshade-accent-color":"#625e3c","hillshade-exaggeration":["interpolate",["linear"],["zoom"],1,.7,6,.4,16,.1]}},e.length?e[0].id:null)}if(!j.getLayer("3d-buildings")){j.getSource("composite")||j.addSource("composite",{type:"vector",url:"mapbox://mapbox.mapbox-streets-v8"});for(var e,t=j.getStyle().layers,l=0;l<t.length;l++)if("symbol"===t[l].type&&t[l].layout["text-field"]){e=t[l].id;break}j.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.8}},e)}j.getLayer("sky")||j.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":2}})}let x,w,k,C,S;return Object(a.e)(()=>{const e=document.createElement("link");var t;return e.rel="stylesheet",e.href="https://raw.githack.com/bravecow/mapbox-gl-controls/master/theme.css",document.body.appendChild(e),(t=new XMLHttpRequest).open("GET","https://www.cloudflare.com/cdn-cgi/trace"),t.onreadystatechange=()=>{t.readyState==XMLHttpRequest.DONE&&200==t.status&&(n(0,y.user.location.iso_3166_1=t.responseText.match(/loc=([^\n+]*)/)[1],y),h=f.filter(e=>!("all"!=e.worldview&&e.worldview!=y.mapWorldview||"sovereign state"!=e.description&&"dependent territory"!=e.description)))},t.send(null),()=>{j.remove(),e.parentNode.removeChild(e)}}),e.$$set=e=>{"settings"in e&&n(0,y=e.settings)},e.$$.update=()=>{16384&e.$$.dirty[0]&&n(2,x=i.query.attribution||null),16385&e.$$.dirty[0]&&n(0,y.map.style=i.query.style?y.map.styles.map(e=>e.label).indexOf(i.query.style)>-1?i.query.style:"Custom":y.map.styles[0].label,y),16385&e.$$.dirty[0]&&n(0,y.map.styleUrl="Custom"==y.map.style?i.query.style:y.map.styles.filter(e=>e.label==y.map.style)[0].styleUrl,y),16384&e.$$.dirty[0]&&(w=i.query.terrain||1.5),16384&e.$$.dirty[0]&&(k=i.query.title||null),16384&e.$$.dirty[0]&&n(3,C=i.query.description||null),16384&e.$$.dirty[0]&&(S=i.query.place||""),16385&e.$$.dirty[0]&&n(0,y.map.worldview=i.query.worldview||y.map.worldview,y),16384&e.$$.dirty[0]&&n(0,y.map.accessToken=i.query.access_token||"pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiY2l3ZmNjNXVzMDAzZzJ0cDV6b2lkOG9odSJ9.eep6sUoBS0eMN4thZUWpyQ",y)},[y,O,x,C,p,m,u,d,function(e){j=O.getMap(),$(e),v()},function(e){n(0,y.map.style=e.detail.style.label,y);const t=`?style=${y.map.style}${window.location.hash}`;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Public Map",t),j.once("styledata",(function(e){v()}))},$,function(e){o.h[e?"unshift":"push"](()=>{O=e,n(1,O)})}]}class L extends o.a{constructor(e){var t;super(),$.getElementById("svelte-18z6i22-style")||((t=Object(o.v)("style")).id="svelte-18z6i22-style",t.textContent="#map.svelte-18z6i22.svelte-18z6i22{height:100vh}#locator-map.svelte-18z6i22.svelte-18z6i22{position:absolute;right:10px;bottom:10px}section.svelte-18z6i22.svelte-18z6i22{position:absolute;left:46px;top:12px;z-index:99}span.block.svelte-18z6i22.svelte-18z6i22{padding:0 4px;background-color:rgba(255, 255, 255, 0.5)}#description.svelte-18z6i22>.svelte-18z6i22{background-color:rgba(255, 255, 255, 0.5);color:#111;padding:3px}#description.svelte-18z6i22.svelte-18z6i22:empty{display:none}.mapboxgl-control-container > * > *{opacity:0;transition:opacity 5s ease-out;z-index:99}.mapboxgl-ctrl-attrib, .mapboxgl-ctrl-bottom-left\n      > .mapboxgl-ctrl:nth-child(3), .mapboxgl-ctrl-bottom-left\n      > .mapboxgl-ctrl:nth-child(4){opacity:1;transition:opacity 0.1s ease-out;z-index:99}.mapboxgl-control-container:hover > * > *{opacity:1;transition:opacity 0.1s ease-in}.mapboxgl-ctrl-geocoder{width:30px;min-width:30px}.mapboxgl-ctrl-geocoder .suggestions li, .mapboxgl-ctrl-geocoder\n      div{display:none}.mapboxgl-ctrl-geocoder:hover{width:200px;min-width:inherit;transition:width 0.3s ease-in-out}.mapboxgl-ctrl-geocoder:hover\n      .suggestions\n      li, .mapboxgl-ctrl-geocoder:hover div{display:inherit}",Object(o.d)($.head,t)),Object(o.C)(this,e,T,C,o.L,{settings:0},[-1,-1])}}var M=L;function N(e){let t,l,s,a;function c(t){e[1].call(null,t)}let n={};return void 0!==e[0]&&(n.map=e[0]),l=new M({props:n}),o.h.push(()=>Object(o.g)(l,"map",c)),{c(){t=Object(o.P)(),Object(o.q)(l.$$.fragment),this.h()},l(e){Object(o.J)('[data-svelte="svelte-14wj8fu"]',document.head).forEach(o.u),t=Object(o.m)(e),Object(o.k)(l.$$.fragment,e),this.h()},h(){document.title="Atlas"},m(e,s){Object(o.D)(e,t,s),Object(o.F)(l,e,s),a=!0},p(e,[t]){const a={};!s&&1&t&&(s=!0,a.map=e[0],Object(o.b)(()=>s=!1)),l.$set(a)},i(e){a||(Object(o.S)(l.$$.fragment,e),a=!0)},o(e){Object(o.T)(l.$$.fragment,e),a=!1},d(e){e&&Object(o.u)(t),Object(o.s)(l,e)}}}function q(e,t,l){let o;return[o,function(e){o=e,l(0,o)}]}class D extends o.a{constructor(e){super(),Object(o.C)(this,e,q,N,o.L,{})}}t.default=D}}]);