(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(t,e){},112:function(t,e,o){"use strict";o.r(e);var c=o(0),l=o(107),a=o(1);const n={};var s=o(54);function r(t,e,o){const{getMap:c,getMapbox:l}=Object(a.c)(n),r=c();l();let{position:i="bottom-right"}=e;const b={};return r.addControl(new s.a(b),i),t.$$set=t=>{"position"in t&&o(0,i=t.position)},[i,b]}class i extends c.a{constructor(t){super(),Object(c.D)(this,t,r,null,c.N,{position:0,options:1})}get options(){return this.$$.ctx[1]}}var b=i,p=o(58),m=o(59);function u(t,e,o){const{getMap:c,getMapbox:l}=Object(a.c)(n),s=c();l();let{position:r="top-right"}=e;return s.addControl(new p.a,r),s.addControl(new m.a,r),t.$$set=t=>{"position"in t&&o(0,r=t.position)},[r]}class d extends c.a{constructor(t){super(),Object(c.D)(this,t,u,null,c.N,{position:0})}}var j=d,O=o(60);function h(t,e,o){const{getMap:c,getMapbox:l}=Object(a.c)(n),s=c();l();let{position:r="bottom-right"}=e;const i={};return s.addControl(new O.a(i),r),t.$$set=t=>{"position"in t&&o(0,r=t.position)},[r,i]}class f extends c.a{constructor(t){super(),Object(c.D)(this,t,h,null,c.N,{position:0,options:1})}get options(){return this.$$.ctx[1]}}var y=f;c.a;var g=o(61);function $(t,e,o){const c=Object(a.b)(),{getMap:l,getMapbox:s}=Object(a.c)(n),r=l();s();let{styles:i=[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v9"},{label:"Satellite",styleName:"Satellite",styleUrl:"mapbox://styles/mapbox/satellite-v9"}]}=e,{position:b="bottom-right"}=e;return r.addControl(new g.a({styles:i,onChange:t=>c("change",{style:t})}),b),t.$$set=t=>{"styles"in t&&o(0,i=t.styles),"position"in t&&o(1,b=t.position)},[i,b]}class x extends c.a{constructor(t){super(),Object(c.D)(this,t,$,null,c.N,{styles:0,position:1})}}var w=x,v=o(2);Object(v.a)({title:"Public Map"});var k=o(63),C=o.n(k),E=o(108),q=o(3),S=o(26);const{document:_}=c.A;function N(t,e,o){const c=t.slice();return c[31]=e[o],c}function M(t){let e,o,l=t[0].map.title+"";return{c(){e=Object(c.v)("h2"),o=Object(c.T)(l),this.h()},l(t){e=Object(c.l)(t,"H2",{class:!0});var a=Object(c.j)(e);o=Object(c.n)(a,l),a.forEach(c.u),this.h()},h(){Object(c.f)(e,"class","uk-no-margin uk-heading-divider")},m(t,l){Object(c.E)(t,e,l),Object(c.d)(e,o)},p(t,e){1&e[0]&&l!==(l=t[0].map.title+"")&&Object(c.P)(o,l)},d(t){t&&Object(c.u)(e)}}}function U(t){let e,o=C()(t[0].map.description,{allowedAttributes:{data:["data-lat","data-lng"]}})+"";return{c(){e=Object(c.v)("p")},l(t){e=Object(c.l)(t,"P",{}),Object(c.j)(e).forEach(c.u)},m(t,l){Object(c.E)(t,e,l),e.innerHTML=o},p(t,c){1&c[0]&&o!==(o=C()(t[0].map.description,{allowedAttributes:{data:["data-lat","data-lng"]}})+"")&&(e.innerHTML=o)},d(t){t&&Object(c.u)(e)}}}function T(t){let e,o,l,a,n,s,r={ctx:t,current:null,token:null,hasCatch:!1,pending:A,then:z,catch:R,value:30};return Object(c.C)(a=t[0].map.locationContext.fetch,r),{c(){e=Object(c.v)("span"),o=Object(c.v)("span"),l=Object(c.R)(),r.block.c(),n=Object(c.R)(),s=Object(c.v)("br"),this.h()},l(t){e=Object(c.l)(t,"SPAN",{});var a=Object(c.j)(e);o=Object(c.l)(a,"SPAN",{"uk-icon":!0}),Object(c.j)(o).forEach(c.u),l=Object(c.m)(a),r.block.l(a),a.forEach(c.u),n=Object(c.m)(t),s=Object(c.l)(t,"BR",{}),this.h()},h(){Object(c.f)(o,"uk-icon","icon: world")},m(t,a){Object(c.E)(t,e,a),Object(c.d)(e,o),Object(c.d)(e,l),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,Object(c.E)(t,n,a),Object(c.E)(t,s,a)},p(e,o){if(t=e,r.ctx=t,1&o[0]&&a!==(a=t[0].map.locationContext.fetch)&&Object(c.C)(a,r));else{const e=t.slice();e[30]=r.resolved,r.block.p(e,o)}},d(t){t&&Object(c.u)(e),r.block.d(),r.token=null,r=null,t&&Object(c.u)(n),t&&Object(c.u)(s)}}}function R(t){return{c:c.I,l:c.I,m:c.I,p:c.I,d:c.I}}function z(t){let e,o=t[30].features,l=[];for(let e=0;e<o.length;e+=1)l[e]=I(N(t,o,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=Object(c.w)()},l(t){for(let e=0;e<l.length;e+=1)l[e].l(t);e=Object(c.w)()},m(t,o){for(let e=0;e<l.length;e+=1)l[e].m(t,o);Object(c.E)(t,e,o)},p(t,c){if(3&c[0]){let a;for(o=t[30].features,a=0;a<o.length;a+=1){const n=N(t,o,a);l[a]?l[a].p(n,c):(l[a]=I(n),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}},d(t){Object(c.t)(l,t),t&&Object(c.u)(e)}}}function L(t){let e,o,l,a,n=t[31].text+"",s=-1==t[31].place_type.indexOf("country")?", ":"";return{c(){e=Object(c.v)("a"),o=Object(c.T)(n),a=Object(c.T)(s),this.h()},l(t){e=Object(c.l)(t,"A",{target:!0,class:!0,href:!0});var l=Object(c.j)(e);o=Object(c.n)(l,n),l.forEach(c.u),a=Object(c.n)(t,s),this.h()},h(){Object(c.f)(e,"target","_blank"),Object(c.f)(e,"class","uk-link-reset"),Object(c.f)(e,"href",l="https://www.wikidata.org/wiki/"+t[31].properties.wikidata)},m(t,l){Object(c.E)(t,e,l),Object(c.d)(e,o),Object(c.E)(t,a,l)},p(t,r){1&r[0]&&n!==(n=t[31].text+"")&&Object(c.P)(o,n),1&r[0]&&l!==(l="https://www.wikidata.org/wiki/"+t[31].properties.wikidata)&&Object(c.f)(e,"href",l),1&r[0]&&s!==(s=-1==t[31].place_type.indexOf("country")?", ":"")&&Object(c.P)(a,s)},d(t){t&&Object(c.u)(e),t&&Object(c.u)(a)}}}function I(t){let e,o=t[31].place_type.indexOf("country")>-1||t[31].place_type.indexOf("region")>-1&&t[1].getZoom()>6||t[31].place_type.indexOf("district")>-1&&t[1].getZoom()>9,l=o&&L(t);return{c(){l&&l.c(),e=Object(c.w)()},l(t){l&&l.l(t),e=Object(c.w)()},m(t,o){l&&l.m(t,o),Object(c.E)(t,e,o)},p(t,c){3&c[0]&&(o=t[31].place_type.indexOf("country")>-1||t[31].place_type.indexOf("region")>-1&&t[1].getZoom()>6||t[31].place_type.indexOf("district")>-1&&t[1].getZoom()>9),o?l?l.p(t,c):(l=L(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&Object(c.u)(e)}}}function A(t){let e,o;return{c(){e=Object(c.v)("span"),o=Object(c.T)("...")},l(t){e=Object(c.l)(t,"SPAN",{});var l=Object(c.j)(e);o=Object(c.n)(l,"..."),l.forEach(c.u)},m(t,l){Object(c.E)(t,e,l),Object(c.d)(e,o)},p:c.I,d(t){t&&Object(c.u)(e)}}}function H(t){let e,o,l,a,n,s=t[0].map.styleName?t[0].map.styleName+" by "+t[0].map.stylesheet.owner:"Loading";return{c(){e=Object(c.v)("span"),o=Object(c.T)("Cartography:\n        "),l=Object(c.v)("a"),a=Object(c.T)(s),this.h()},l(t){e=Object(c.l)(t,"SPAN",{});var n=Object(c.j)(e);o=Object(c.n)(n,"Cartography:\n        "),l=Object(c.l)(n,"A",{class:!0,href:!0});var r=Object(c.j)(l);a=Object(c.n)(r,s),r.forEach(c.u),n.forEach(c.u),this.h()},h(){Object(c.f)(l,"class","uk-link-reset"),Object(c.f)(l,"href",n=`https://api.mapbox.com/styles/v1/${t[0].map.stylesheet.owner}/${t[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${t[0].map.accessToken}${window.location.hash}`)},m(t,n){Object(c.E)(t,e,n),Object(c.d)(e,o),Object(c.d)(e,l),Object(c.d)(l,a)},p(t,e){1&e[0]&&s!==(s=t[0].map.styleName?t[0].map.styleName+" by "+t[0].map.stylesheet.owner:"Loading")&&Object(c.P)(a,s),1&e[0]&&n!==(n=`https://api.mapbox.com/styles/v1/${t[0].map.stylesheet.owner}/${t[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${t[0].map.accessToken}${window.location.hash}`)&&Object(c.f)(l,"href",n)},d(t){t&&Object(c.u)(e)}}}function V(t){let e,o,l,a,n,s,r,i,p,m,u,d;return e=new j({}),l=new t[5]({props:{position:"top-right",options:{trackUserLocation:!0}}}),l.$on("geolocate",P),n=new w({props:{styles:t[0].map.styles}}),n.$on("change",t[8]),r=new y({}),p=new b({}),u=new t[6]({props:{position:"bottom-left"}}),{c(){Object(c.q)(e.$$.fragment),o=Object(c.R)(),Object(c.q)(l.$$.fragment),a=Object(c.R)(),Object(c.q)(n.$$.fragment),s=Object(c.R)(),Object(c.q)(r.$$.fragment),i=Object(c.R)(),Object(c.q)(p.$$.fragment),m=Object(c.R)(),Object(c.q)(u.$$.fragment)},l(t){Object(c.k)(e.$$.fragment,t),o=Object(c.m)(t),Object(c.k)(l.$$.fragment,t),a=Object(c.m)(t),Object(c.k)(n.$$.fragment,t),s=Object(c.m)(t),Object(c.k)(r.$$.fragment,t),i=Object(c.m)(t),Object(c.k)(p.$$.fragment,t),m=Object(c.m)(t),Object(c.k)(u.$$.fragment,t)},m(t,b){Object(c.H)(e,t,b),Object(c.E)(t,o,b),Object(c.H)(l,t,b),Object(c.E)(t,a,b),Object(c.H)(n,t,b),Object(c.E)(t,s,b),Object(c.H)(r,t,b),Object(c.E)(t,i,b),Object(c.H)(p,t,b),Object(c.E)(t,m,b),Object(c.H)(u,t,b),d=!0},p(t,e){const o={};1&e[0]&&(o.styles=t[0].map.styles),n.$set(o)},i(t){d||(Object(c.U)(e.$$.fragment,t),Object(c.U)(l.$$.fragment,t),Object(c.U)(n.$$.fragment,t),Object(c.U)(r.$$.fragment,t),Object(c.U)(p.$$.fragment,t),Object(c.U)(u.$$.fragment,t),d=!0)},o(t){Object(c.V)(e.$$.fragment,t),Object(c.V)(l.$$.fragment,t),Object(c.V)(n.$$.fragment,t),Object(c.V)(r.$$.fragment,t),Object(c.V)(p.$$.fragment,t),Object(c.V)(u.$$.fragment,t),d=!1},d(t){Object(c.s)(e,t),t&&Object(c.u)(o),Object(c.s)(l,t),t&&Object(c.u)(a),Object(c.s)(n,t),t&&Object(c.u)(s),Object(c.s)(r,t),t&&Object(c.u)(i),Object(c.s)(p,t),t&&Object(c.u)(m),Object(c.s)(u,t)}}}function D(t){let e,o,a,n,s,r,i,b,p,m,u,d,j,O,h,f=t[0].map.title&&M(t),y=t[0].map.description&&U(t),g=t[0].map.locationContext.iso_3166_1&&T(t),$=t[0].map.stylesheet&&H(t),x={accessToken:t[0].map.accessToken,style:t[0].map.styleUrl,options:{hash:!0,attributionControl:!0,customAttribution:t[3]},version:"v2.0.1",$$slots:{default:[V]},$$scope:{ctx:t}};m=new l.a({props:x}),t[10](m),m.$on("ready",t[7]),m.$on("recentre",t[9]);let w=!1;return{c(){e=Object(c.v)("section"),o=Object(c.v)("div"),f&&f.c(),a=Object(c.R)(),n=Object(c.v)("button"),s=Object(c.R)(),y&&y.c(),r=Object(c.R)(),g&&g.c(),i=Object(c.R)(),$&&$.c(),b=Object(c.R)(),p=Object(c.v)("div"),Object(c.q)(m.$$.fragment),u=Object(c.R)(),d=Object(c.v)("div"),w&&w.c(),this.h()},l(t){e=Object(c.l)(t,"SECTION",{id:!0,class:!0});var l=Object(c.j)(e);o=Object(c.l)(l,"DIV",{class:!0});var j=Object(c.j)(o);f&&f.l(j),a=Object(c.m)(j),n=Object(c.l)(j,"BUTTON",{type:!0,"uk-close":!0,style:!0}),Object(c.j)(n).forEach(c.u),s=Object(c.m)(j),y&&y.l(j),r=Object(c.m)(j),g&&g.l(j),i=Object(c.m)(j),$&&$.l(j),j.forEach(c.u),l.forEach(c.u),b=Object(c.m)(t),p=Object(c.l)(t,"DIV",{id:!0,class:!0});var O=Object(c.j)(p);Object(c.k)(m.$$.fragment,O),O.forEach(c.u),u=Object(c.m)(t),d=Object(c.l)(t,"DIV",{id:!0,class:!0});var h=Object(c.j)(d);w&&w.l(h),h.forEach(c.u),this.h()},h(){Object(c.f)(n,"type","button"),Object(c.f)(n,"uk-close",""),Object(c.Q)(n,"position","absolute"),Object(c.Q)(n,"top","10px"),Object(c.Q)(n,"right","10px"),Object(c.f)(o,"class","uk-card uk-card-body uk-card-default uk-card-small uk-card-hover"),Object(c.f)(e,"id","info-panel"),Object(c.f)(e,"class","uk-position-absolute uk-position-top-left svelte-bqlnmg"),Object(c.f)(p,"id","map"),Object(c.f)(p,"class","svelte-bqlnmg"),Object(c.f)(d,"id","locator-map"),Object(c.f)(d,"class","svelte-bqlnmg")},m(t,l){Object(c.E)(t,e,l),Object(c.d)(e,o),f&&f.m(o,null),Object(c.d)(o,a),Object(c.d)(o,n),Object(c.d)(o,s),y&&y.m(o,null),Object(c.d)(o,r),g&&g.m(o,null),Object(c.d)(o,i),$&&$.m(o,null),Object(c.E)(t,b,l),Object(c.E)(t,p,l),Object(c.H)(m,p,null),Object(c.E)(t,u,l),Object(c.E)(t,d,l),w&&w.m(d,null),j=!0,O||(h=Object(c.G)(n,"click",Z,{once:!0}),O=!0)},p(t,e){t[0].map.title?f?f.p(t,e):(f=M(t),f.c(),f.m(o,a)):f&&(f.d(1),f=null),t[0].map.description?y?y.p(t,e):(y=U(t),y.c(),y.m(o,r)):y&&(y.d(1),y=null),t[0].map.locationContext.iso_3166_1?g?g.p(t,e):(g=T(t),g.c(),g.m(o,i)):g&&(g.d(1),g=null),t[0].map.stylesheet?$?$.p(t,e):($=H(t),$.c(),$.m(o,null)):$&&($.d(1),$=null);const c={};1&e[0]&&(c.accessToken=t[0].map.accessToken),1&e[0]&&(c.style=t[0].map.styleUrl),8&e[0]&&(c.options={hash:!0,attributionControl:!0,customAttribution:t[3]}),1&e[0]|8&e[1]&&(c.$$scope={dirty:e,ctx:t}),m.$set(c),w&&(w.d(1),w=null)},i(t){j||(Object(c.U)(m.$$.fragment,t),j=!0)},o(t){Object(c.V)(m.$$.fragment,t),j=!1},d(o){o&&Object(c.u)(e),f&&f.d(),y&&y.d(),g&&g.d(),$&&$.d(),o&&Object(c.u)(b),o&&Object(c.u)(p),t[10](null),Object(c.s)(m),o&&Object(c.u)(u),o&&Object(c.u)(d),w&&w.d(),O=!1,h()}}}function P(t){}function Z(){document.getElementById("info-panel").style.display="none"}function J(t,e,s){let r;o(103);const{preloading:i,page:b,session:p}=Object(q.b)();Object(c.o)(t,b,t=>s(12,r=t));const{GeolocateControl:m,NavigationControl:u,ScaleControl:d}=l.b;let j,O,h;Object(a.f)(n,{getMap:()=>j,getMapbox:()=>O});let{settings:f={fetch:{locationContext:null},user:{locale:"en-US",language:"en",fallbackLanguage:"en",location:{iso_3166_1:null,geoip:null,gps:null}},map:{accessToken:null,title:null,description:null,attribution:null,worldview:"US",style:null,styles:[{label:"Satellite",styleName:"Mapbox Satellite",styleUrl:"mapbox://styles/mapbox/satellite-streets-v11"},{label:"Railway",styleName:"Railway",styleUrl:"mapbox://styles/planemad/ck7p3wxmp0q571imu99elwqs1"},{label:"Hydrology",styleName:"Hydrology",styleUrl:"mapbox://styles/planemad/ckd42fwa20n531iqrewerwla1"},{label:"OpenStreetMap",styleName:"OpenStreetMap",styleUrl:"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik-india-v8.json"},{label:"Connectivity",styleName:"Connectivity",styleUrl:"mapbox://styles/planemad/ckhijjwug10ht19mjwvno5o38"}],locationContext:{text:"",fetch:null,geojson:null},source:{geojson:null,wmts:null}}}}=e;const y=Object(E.a)(r.query.description);f.map.markers=[],y.querySelectorAll("data").forEach(t=>{f.map.markers.push({lng:parseInt(t.getAttribute("data-lng")),lat:parseInt(t.getAttribute("data-lat"))})}),console.log(f);function g(t){let e=j.getCenter(),o=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e.lng}%2C${e.lat}.json?access_token=${f.map.accessToken}&worldview=${f.map.worldview.toLocaleLowerCase()}&types=country%2Cregion%2Cdistrict%2Cpostcode%2Clocality%2Cplace%2Cneighborhood%2Caddress%2Cpoi&language=${f.user.language}`;s(0,f.map.locationContext.fetch=fetch(o).then(t=>t.json()).then(t=>(console.log(t),s(0,f.map.locationContext.geojson=t,f),t.features.length&&(s(0,f.map.locationContext.iso_3166_1_label=t.features[t.features.length-1]["text_"+f.user.language],f),s(0,f.map.locationContext.iso_3166_1=t.features[t.features.length-1].properties.short_code,f),t.features.forEach(t=>{(t.place_type.indexOf("country")>-1||t.place_type.indexOf("region")>-1&&j.getZoom()>6||t.place_type.indexOf("district")>-1&&j.getZoom()>9)&&s(0,f.map.locationContext.text+=t.text+(-1==t.place_type.indexOf("country")?", ":" "),f)})),t)),f)}function $(){if(s(0,f.map.styleName=j.getStyle().name,f),s(0,f.map.stylesheet=j.style.stylesheet,f),w>0&&(j.getSource("mapbox-dem")||(j.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),j.setTerrain({source:"mapbox-dem",exaggeration:["interpolate",["linear"],["zoom"],0,w*Math.pow(2,4),1,w*Math.pow(2,3),2,w*Math.pow(2,2),10,w*Math.pow(2,1),16,1]}))),!j.getSource("3d-hillshade")){j.addSource("3d-hillshade",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14});const t=j.getStyle().layers.filter(t=>"symbol"==t.type);j.addLayer({id:"3d-hillshade",source:"3d-hillshade",type:"hillshade",paint:{"hillshade-shadow-color":"#0f0f0f","hillshade-highlight-color":"#ffffff","hillshade-accent-color":"#625e3c","hillshade-exaggeration":["interpolate",["linear"],["zoom"],1,.7,6,.4,16,.1]}},t.length?t[0].id:null)}const t=j.getStyle().layers;let e=null;for(var o=0;o<t.length;o++)if("symbol"===t[o].type&&t[o].layout["text-field"]){e=t[o].id;break}let c=null;for(o=0;o<t.length;o++)if("line"===t[o].type){c=t[o].id;break}if(f.map.source.wmts){const t=new URL(f.map.source.wmts);j.addSource("wmts",{type:"raster",tiles:[f.map.source.wmts],tileSize:256,attribution:`Overlay tiles from <a target="_top" rel="noopener" href="${f.map.source.wmts}">${t.hostname}</a>`}),j.addLayer({id:"raster-tiles",type:"raster",source:"wmts",minzoom:0,maxzoom:22,paint:{"raster-opacity":["interpolate",["linear"],["zoom"],12,.95,15,.8,17,.2]}},c)}j.getLayer("3d-buildings")||(j.getSource("composite")||j.addSource("composite",{type:"vector",url:"mapbox://mapbox.mapbox-streets-v8"}),j.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.8}},e)),j.getLayer("sky")||j.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":2}})}let x,w,v;return Object(a.e)(()=>{const t=document.createElement("link");var e;return t.rel="stylesheet",t.href="https://raw.githack.com/bravecow/mapbox-gl-controls/master/theme.css",document.body.appendChild(t),(e=new XMLHttpRequest).open("GET","https://www.cloudflare.com/cdn-cgi/trace"),e.onreadystatechange=()=>{e.readyState==XMLHttpRequest.DONE&&200==e.status&&(s(0,f.user.location.iso_3166_1=e.responseText.match(/loc=([^\n+]*)/)[1],f),h=S.filter(t=>!("all"!=t.worldview&&t.worldview!=f.mapWorldview||"sovereign state"!=t.description&&"dependent territory"!=t.description)))},e.send(null),()=>{j.remove(),t.parentNode.removeChild(t)}}),t.$$set=t=>{"settings"in t&&s(0,f=t.settings)},t.$$.update=()=>{4096&t.$$.dirty[0]&&s(3,x=r.query.attribution||null),4097&t.$$.dirty[0]&&s(0,f.map.style=r.query.style?f.map.styles.map(t=>t.label).indexOf(r.query.style)>-1?r.query.style:"Custom":f.map.styles[0].label,f),4097&t.$$.dirty[0]&&s(0,f.map.styleUrl="Custom"==f.map.style?r.query.style:f.map.styles.filter(t=>t.label==f.map.style)[0].styleUrl,f),4096&t.$$.dirty[0]&&(w=r.query.terrain||1.5),4096&t.$$.dirty[0]&&s(0,f.map.title=r.query.title||null,f),4096&t.$$.dirty[0]&&s(0,f.map.description=r.query.description?C()(r.query.description,{allowedAttributes:{data:["data-lat","data-lng"]}}):null,f),4096&t.$$.dirty[0]&&(v=r.query.place||""),4097&t.$$.dirty[0]&&s(0,f.map.worldview=r.query.worldview||f.map.worldview,f),4096&t.$$.dirty[0]&&s(0,f.map.accessToken=r.query.access_token||"pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiY2l3ZmNjNXVzMDAzZzJ0cDV6b2lkOG9odSJ9.eep6sUoBS0eMN4thZUWpyQ",f),4096&t.$$.dirty[0]&&s(0,f.map.source.wmts=r.query.wmts,f)},[f,j,O,x,b,m,d,function(t){s(1,j=O.getMap()),g(t),$()},function(t){const e=`${window.location.search}${window.location.hash}`.replace(f.map.style,t.detail.style.label);window.history.pushState({additionalInformation:"Updated the URL with JS"},"Public Map",e),s(0,f.map.style=t.detail.style.label,f),j.once("styledata",(function(t){$()}))},g,function(t){c.h[t?"unshift":"push"](()=>{O=t,s(2,O)})}]}class B extends c.a{constructor(t){var e;super(),_.getElementById("svelte-bqlnmg-style")||((e=Object(c.v)("style")).id="svelte-bqlnmg-style",e.textContent="#map.svelte-bqlnmg{height:100vh;z-index:-1}#locator-map.svelte-bqlnmg{position:absolute;right:10px;bottom:10px}section.svelte-bqlnmg{z-index:1;margin-top:20px;margin-left:50px;width:400px}.uk-card-default{background:#ffffffbd}#description data{font-weight:bold}.mapboxgl-control-container > *:not(.mapboxgl-ctrl-bottom-left) > *{opacity:0;transition:opacity 5s ease-out;z-index:99}.mapboxgl-ctrl-attrib, .mapboxgl-ctrl-bottom-left\n      > .mapboxgl-ctrl:nth-child(3), .mapboxgl-ctrl-bottom-left\n      > .mapboxgl-ctrl:nth-child(4){opacity:1;transition:opacity 0.1s ease-out;z-index:99}.mapboxgl-control-container:hover\n      > *:not(.mapboxgl-ctrl-bottom-left)\n      > *{opacity:1;transition:opacity 0.1s ease-in}",Object(c.d)(_.head,e)),Object(c.D)(this,t,J,D,c.N,{settings:0},[-1,-1])}}var G=B;function Q(t){let e,o,l,a;function n(e){t[1].call(null,e)}let s={};return void 0!==t[0]&&(s.map=t[0]),o=new G({props:s}),c.h.push(()=>Object(c.g)(o,"map",n)),{c(){e=Object(c.R)(),Object(c.q)(o.$$.fragment),this.h()},l(t){Object(c.L)('[data-svelte="svelte-2h0ehw"]',document.head).forEach(c.u),e=Object(c.m)(t),Object(c.k)(o.$$.fragment,t),this.h()},h(){document.title="Public Map"},m(t,l){Object(c.E)(t,e,l),Object(c.H)(o,t,l),a=!0},p(t,[e]){const a={};!l&&1&e&&(l=!0,a.map=t[0],Object(c.b)(()=>l=!1)),o.$set(a)},i(t){a||(Object(c.U)(o.$$.fragment,t),a=!0)},o(t){Object(c.V)(o.$$.fragment,t),a=!1},d(t){t&&Object(c.u)(e),Object(c.s)(o,t)}}}function W(t,e,o){let c;return[c,function(t){c=t,o(0,c)}]}class X extends c.a{constructor(t){super(),Object(c.D)(this,t,W,Q,c.N,{})}}e.default=X},39:function(t,e){},80:function(t,e){}}]);