(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{22:function(e,t,o){"use strict";o.r(t);var l=o(0),s=o(18),a=o(1);const c={};var n=o(9);function i(e,t,o){const{getMap:l,getMapbox:s}=Object(a.c)(c),i=l();s();let{position:r="bottom-right"}=t,{options:p={}}=t;return i.addControl(new n.a,r),e.$$set=e=>{"position"in e&&o(0,r=e.position),"options"in e&&o(1,p=e.options)},[r,p]}class r extends l.a{constructor(e){super(),Object(l.C)(this,e,i,null,l.L,{position:0,options:1})}}var p=r;function b(e,t,o){const{getMap:l,getMapbox:s}=Object(a.c)(c),n=l();s();let{position:i="bottom-left"}=t,{options:r={}}=t;class p{constructor(e={}){this.container=document.createElement("div")}onAdd(e){return this.map=e,this.map.on("mapTitle",this.titleListener),this.container}onRemove(){this.map.off("mapTitle",this.titleListener),this.map=void 0}styleChangeListener(){this.map.off("mapTitle",this.titleListener),this.setTitle("HI")}setTitle(e){return e}}return n.addControl(new p,i),e.$$set=e=>{"position"in e&&o(0,i=e.position),"options"in e&&o(1,r=e.options)},[i,r,p]}class m extends l.a{constructor(e){super(),Object(l.C)(this,e,b,null,l.L,{position:0,options:1,LanguageControl:2})}get LanguageControl(){return this.$$.ctx[2]}}var d=m,j=o(13);function u(e,t,o){const l=Object(a.b)(),{getMap:s,getMapbox:n}=Object(a.c)(c),i=s();n();let{styles:r=[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v9"},{label:"Satellite",styleName:"Satellite",styleUrl:"mapbox://styles/mapbox/satellite-v9"}]}=t,{position:p="bottom-right"}=t;return i.addControl(new j.a({styles:r,onChange:e=>l("change",{style:e})}),p),e.$$set=e=>{"styles"in e&&o(0,r=e.styles),"position"in e&&o(1,p=e.position)},[r,p]}class h extends l.a{constructor(e){super(),Object(l.C)(this,e,u,null,l.L,{styles:0,position:1})}}var O=h,y=o(2);Object(y.a)({title:"Public Map"});var g=o(3),f=o(6);const{document:$}=l.A;function x(e){let t,o=(e[0].pageTitle||e[0].map.locationContext.features.length&&e[0].map.locationContext.features.filter(z)[0].text+"/"+e[0].map.locationContext.features.filter(_)[0].text||"")+"";return{c(){t=Object(l.R)(o)},l(e){t=Object(l.n)(e,o)},m(e,o){Object(l.D)(e,t,o)},p(e,s){1&s[0]&&o!==(o=(e[0].pageTitle||e[0].map.locationContext.features.length&&e[0].map.locationContext.features.filter(z)[0].text+"/"+e[0].map.locationContext.features.filter(_)[0].text||"")+"")&&Object(l.N)(t,o)},d(e){e&&Object(l.u)(t)}}}function v(e){let t,o,s,a;return{c(){t=Object(l.v)("span"),o=Object(l.R)(e[3]),s=Object(l.P)(),a=Object(l.v)("br"),this.h()},l(c){t=Object(l.l)(c,"SPAN",{class:!0});var n=Object(l.j)(t);o=Object(l.n)(n,e[3]),n.forEach(l.u),s=Object(l.m)(c),a=Object(l.l)(c,"BR",{class:!0}),this.h()},h(){Object(l.f)(t,"class","svelte-18z6i22"),Object(l.f)(a,"class","svelte-18z6i22")},m(e,c){Object(l.D)(e,t,c),Object(l.d)(t,o),Object(l.D)(e,s,c),Object(l.D)(e,a,c)},p(e,t){8&t[0]&&Object(l.N)(o,e[3])},d(e){e&&Object(l.u)(t),e&&Object(l.u)(s),e&&Object(l.u)(a)}}}function w(e){let t,o,s,a,c,n,i=e[0].map.styleName?e[0].map.styleName+" by "+e[0].map.stylesheet.owner:"Loading";return{c(){t=Object(l.v)("small"),o=Object(l.v)("span"),s=Object(l.R)("Map Style:\n        "),a=Object(l.v)("a"),c=Object(l.R)(i),this.h()},l(e){t=Object(l.l)(e,"SMALL",{class:!0});var n=Object(l.j)(t);o=Object(l.l)(n,"SPAN",{});var r=Object(l.j)(o);s=Object(l.n)(r,"Map Style:\n        "),a=Object(l.l)(r,"A",{class:!0,href:!0});var p=Object(l.j)(a);c=Object(l.n)(p,i),p.forEach(l.u),r.forEach(l.u),n.forEach(l.u),this.h()},h(){Object(l.f)(a,"class","uk-link-text"),Object(l.f)(a,"href",n=`https://api.mapbox.com/styles/v1/${e[0].map.stylesheet.owner}/${e[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${e[0].map.accessToken}${window.location.hash}`),Object(l.f)(t,"class","svelte-18z6i22")},m(e,n){Object(l.D)(e,t,n),Object(l.d)(t,o),Object(l.d)(o,s),Object(l.d)(o,a),Object(l.d)(a,c)},p(e,t){1&t[0]&&i!==(i=e[0].map.styleName?e[0].map.styleName+" by "+e[0].map.stylesheet.owner:"Loading")&&Object(l.N)(c,i),1&t[0]&&n!==(n=`https://api.mapbox.com/styles/v1/${e[0].map.stylesheet.owner}/${e[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${e[0].map.accessToken}${window.location.hash}`)&&Object(l.f)(a,"href",n)},d(e){e&&Object(l.u)(t)}}}function k(e){let t,o,s,a,c,n,i,r,b,m,j,u;return t=new O({props:{styles:e[0].map.styles}}),t.$on("change",e[9]),s=new e[5]({props:{position:"top-right",options:{trackUserLocation:!0}}}),s.$on("geolocate",C),c=new e[6]({}),i=new e[7]({props:{position:"bottom-left"}}),b=new p({props:{position:"bottom-left"}}),j=new d({}),{c(){Object(l.q)(t.$$.fragment),o=Object(l.P)(),Object(l.q)(s.$$.fragment),a=Object(l.P)(),Object(l.q)(c.$$.fragment),n=Object(l.P)(),Object(l.q)(i.$$.fragment),r=Object(l.P)(),Object(l.q)(b.$$.fragment),m=Object(l.P)(),Object(l.q)(j.$$.fragment)},l(e){Object(l.k)(t.$$.fragment,e),o=Object(l.m)(e),Object(l.k)(s.$$.fragment,e),a=Object(l.m)(e),Object(l.k)(c.$$.fragment,e),n=Object(l.m)(e),Object(l.k)(i.$$.fragment,e),r=Object(l.m)(e),Object(l.k)(b.$$.fragment,e),m=Object(l.m)(e),Object(l.k)(j.$$.fragment,e)},m(e,p){Object(l.F)(t,e,p),Object(l.D)(e,o,p),Object(l.F)(s,e,p),Object(l.D)(e,a,p),Object(l.F)(c,e,p),Object(l.D)(e,n,p),Object(l.F)(i,e,p),Object(l.D)(e,r,p),Object(l.F)(b,e,p),Object(l.D)(e,m,p),Object(l.F)(j,e,p),u=!0},p(e,o){const l={};1&o[0]&&(l.styles=e[0].map.styles),t.$set(l)},i(e){u||(Object(l.S)(t.$$.fragment,e),Object(l.S)(s.$$.fragment,e),Object(l.S)(c.$$.fragment,e),Object(l.S)(i.$$.fragment,e),Object(l.S)(b.$$.fragment,e),Object(l.S)(j.$$.fragment,e),u=!0)},o(e){Object(l.T)(t.$$.fragment,e),Object(l.T)(s.$$.fragment,e),Object(l.T)(c.$$.fragment,e),Object(l.T)(i.$$.fragment,e),Object(l.T)(b.$$.fragment,e),Object(l.T)(j.$$.fragment,e),u=!1},d(e){Object(l.s)(t,e),e&&Object(l.u)(o),Object(l.s)(s,e),e&&Object(l.u)(a),Object(l.s)(c,e),e&&Object(l.u)(n),Object(l.s)(i,e),e&&Object(l.u)(r),Object(l.s)(b,e),e&&Object(l.u)(m),Object(l.s)(j,e)}}}function S(e){let t,o,a,c,n,i,r,p,b,m,d,j,u=(e[0].pageTitle||e[0].map.filter.iso_3166_1)&&x(e),h=e[3]&&v(e),O=e[0].map.stylesheet&&w(e),y={accessToken:e[0].map.accessToken,style:e[0].map.styleUrl,options:{hash:!0,attributionControl:!0,customAttribution:e[2]},version:"v2.0.1",$$slots:{default:[k]},$$scope:{ctx:e}};b=new s.a({props:y}),e[11](b),b.$on("ready",e[8]),b.$on("recentre",e[10]);let g=!1;return{c(){t=Object(l.v)("section"),o=Object(l.v)("h1"),a=Object(l.v)("span"),u&&u.c(),c=Object(l.P)(),n=Object(l.v)("p"),h&&h.c(),i=Object(l.P)(),O&&O.c(),r=Object(l.R)("\n\nhttps://api.mapbox.com/styles/v1/planemad/ckd42fwa20n531iqrewerwla1.html?fresh=true&title=copy&access_token=pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiY2l3ZmNjNXVzMDAzZzJ0cDV6b2lkOG9odSJ9.eep6sUoBS0eMN4thZUWpyQ#7.87/20.062/75.079\nhttps://api.mapbox.com/styles/v1/planemad/ckd42fwa20n531iqrewerwla1.html?fresh=true&title=copy&access_token=pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiemdYSVVLRSJ9.g3lbg_eN0kztmsfIPxa9MQ#11.77/37.7553/-77.4834\n\n\n\n"),p=Object(l.v)("div"),Object(l.q)(b.$$.fragment),m=Object(l.P)(),d=Object(l.v)("div"),g&&g.c(),this.h()},l(e){t=Object(l.l)(e,"SECTION",{class:!0});var s=Object(l.j)(t);o=Object(l.l)(s,"H1",{class:!0});var j=Object(l.j)(o);a=Object(l.l)(j,"SPAN",{class:!0});var y=Object(l.j)(a);u&&u.l(y),y.forEach(l.u),j.forEach(l.u),c=Object(l.m)(s),n=Object(l.l)(s,"P",{id:!0,class:!0});var f=Object(l.j)(n);h&&h.l(f),i=Object(l.m)(f),O&&O.l(f),f.forEach(l.u),s.forEach(l.u),r=Object(l.n)(e,"\n\nhttps://api.mapbox.com/styles/v1/planemad/ckd42fwa20n531iqrewerwla1.html?fresh=true&title=copy&access_token=pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiY2l3ZmNjNXVzMDAzZzJ0cDV6b2lkOG9odSJ9.eep6sUoBS0eMN4thZUWpyQ#7.87/20.062/75.079\nhttps://api.mapbox.com/styles/v1/planemad/ckd42fwa20n531iqrewerwla1.html?fresh=true&title=copy&access_token=pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiemdYSVVLRSJ9.g3lbg_eN0kztmsfIPxa9MQ#11.77/37.7553/-77.4834\n\n\n\n"),p=Object(l.l)(e,"DIV",{id:!0,class:!0});var $=Object(l.j)(p);Object(l.k)(b.$$.fragment,$),$.forEach(l.u),m=Object(l.m)(e),d=Object(l.l)(e,"DIV",{id:!0,class:!0});var x=Object(l.j)(d);g&&g.l(x),x.forEach(l.u),this.h()},h(){Object(l.f)(a,"class","block svelte-18z6i22"),Object(l.f)(o,"class","uk-no-margin"),Object(l.f)(n,"id","description"),Object(l.f)(n,"class","uk-text-lead svelte-18z6i22"),Object(l.f)(t,"class","svelte-18z6i22"),Object(l.f)(p,"id","map"),Object(l.f)(p,"class","svelte-18z6i22"),Object(l.f)(d,"id","locator-map"),Object(l.f)(d,"class","svelte-18z6i22")},m(e,s){Object(l.D)(e,t,s),Object(l.d)(t,o),Object(l.d)(o,a),u&&u.m(a,null),Object(l.d)(t,c),Object(l.d)(t,n),h&&h.m(n,null),Object(l.d)(n,i),O&&O.m(n,null),Object(l.D)(e,r,s),Object(l.D)(e,p,s),Object(l.F)(b,p,null),Object(l.D)(e,m,s),Object(l.D)(e,d,s),g&&g.m(d,null),j=!0},p(e,t){e[0].pageTitle||e[0].map.filter.iso_3166_1?u?u.p(e,t):(u=x(e),u.c(),u.m(a,null)):u&&(u.d(1),u=null),e[3]?h?h.p(e,t):(h=v(e),h.c(),h.m(n,i)):h&&(h.d(1),h=null),e[0].map.stylesheet?O?O.p(e,t):(O=w(e),O.c(),O.m(n,null)):O&&(O.d(1),O=null);const o={};1&t[0]&&(o.accessToken=e[0].map.accessToken),1&t[0]&&(o.style=e[0].map.styleUrl),4&t[0]&&(o.options={hash:!0,attributionControl:!0,customAttribution:e[2]}),1&t[0]|1&t[1]&&(o.$$scope={dirty:t,ctx:e}),b.$set(o),g&&(g.d(1),g=null)},i(e){j||(Object(l.S)(b.$$.fragment,e),j=!0)},o(e){Object(l.T)(b.$$.fragment,e),j=!1},d(o){o&&Object(l.u)(t),u&&u.d(),h&&h.d(),O&&O.d(),o&&Object(l.u)(r),o&&Object(l.u)(p),e[11](null),Object(l.s)(b),o&&Object(l.u)(m),o&&Object(l.u)(d),g&&g.d()}}}function C(e){}const z=e=>e.place_type.indexOf("country")>-1,_=e=>e.place_type.indexOf("region")>-1;function L(e,t,n){let i;o(14);const{preloading:r,page:p,session:b}=Object(g.b)();Object(l.o)(e,p,e=>n(14,i=e));const{GeolocateControl:m,NavigationControl:d,ScaleControl:j}=s.b;let u,h,O;Object(a.f)(c,{getMap:()=>u,getMapbox:()=>h});let{settings:y={user:{locale:"en-US",language:"en",fallbackLanguage:"en",location:{iso_3166_1:null,geoip:null,gps:null}},map:{accessToken:null,attribution:null,worldview:"US",style:null,styles:[{label:"Satellite",styleName:"Mapbox Satellite",styleUrl:"mapbox://styles/mapbox/satellite-streets-v11"},{label:"Railway",styleName:"Railway",styleUrl:"mapbox://styles/planemad/ck7p3wxmp0q571imu99elwqs1"},{label:"Hydrology",styleName:"Hydrology",styleUrl:"mapbox://styles/planemad/ckd42fwa20n531iqrewerwla1"},{label:"OpenStreetMap",styleName:"OpenStreetMap",styleUrl:"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik-india-v8.json"},{label:"Connectivity",styleName:"Connectivity",styleUrl:"mapbox://styles/planemad/ckhijjwug10ht19mjwvno5o38"}],locationContext:null,filter:{iso_3166_1:null,iso_3166_1_label:"...",iso_3166_2:null,iso_3166_2_label:null}}}}=t;function $(e){let t=u.getCenter(),o=`https://api.mapbox.com/geocoding/v5/mapbox.places/${t.lng}%2C${t.lat}.json?access_token=${y.map.accessToken}&worldview=${y.map.worldview.toLocaleLowerCase()}&types=country%2Cregion%2Cdistrict%2Cpostcode%2Clocality%2Cplace%2Cneighborhood%2Caddress%2Cpoi&language=${y.user.language}`;fetch(o).then(e=>e.json()).then(e=>{n(0,y.map.locationContext=e,y),e.features.length&&(n(0,y.map.filter.iso_3166_1_label=e.features[e.features.length-1]["text_"+y.user.language],y),n(0,y.map.filter.iso_3166_1=e.features[e.features.length-1].properties.short_code,y))})}function x(){if(n(0,y.map.styleName=u.getStyle().name,y),n(0,y.map.stylesheet=u.style.stylesheet,y),w>0&&(u.getSource("mapbox-dem")||(u.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),u.setTerrain({source:"mapbox-dem",exaggeration:["interpolate",["linear"],["zoom"],0,w*Math.pow(2,4),1,w*Math.pow(2,3),2,w*Math.pow(2,2),10,w*Math.pow(2,1),16,1]}))),!u.getSource("3d-hillshade")){u.addSource("3d-hillshade",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14});let e=u.getStyle().layers.filter(e=>"symbol"==e.type);u.addLayer({id:"3d-hillshade",source:"3d-hillshade",type:"hillshade",paint:{"hillshade-shadow-color":"#0f0f0f","hillshade-highlight-color":"#ffffff","hillshade-accent-color":"#625e3c","hillshade-exaggeration":["interpolate",["linear"],["zoom"],1,.7,6,.4,16,.1]}},e.length?e[0].id:null)}if(!u.getLayer("3d-buildings")){u.getSource("composite")||u.addSource("composite",{type:"vector",url:"mapbox://mapbox.mapbox-streets-v8"});for(var e,t=u.getStyle().layers,o=0;o<t.length;o++)if("symbol"===t[o].type&&t[o].layout["text-field"]){e=t[o].id;break}u.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.8}},e)}u.getLayer("sky")||u.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":2}})}let v,w,k,S,C;return Object(a.e)(()=>{const e=document.createElement("link");var t;return e.rel="stylesheet",e.href="https://raw.githack.com/bravecow/mapbox-gl-controls/master/theme.css",document.body.appendChild(e),(t=new XMLHttpRequest).open("GET","https://www.cloudflare.com/cdn-cgi/trace"),t.onreadystatechange=()=>{t.readyState==XMLHttpRequest.DONE&&200==t.status&&(n(0,y.user.location.iso_3166_1=t.responseText.match(/loc=([^\n+]*)/)[1],y),O=f.filter(e=>!("all"!=e.worldview&&e.worldview!=y.mapWorldview||"sovereign state"!=e.description&&"dependent territory"!=e.description)))},t.send(null),()=>{u.remove(),e.parentNode.removeChild(e)}}),e.$$set=e=>{"settings"in e&&n(0,y=e.settings)},e.$$.update=()=>{16384&e.$$.dirty[0]&&n(2,v=i.query.attribution||null),16385&e.$$.dirty[0]&&n(0,y.map.style=i.query.style?y.map.styles.map(e=>e.label).indexOf(i.query.style)>-1?i.query.style:"Custom":y.map.styles[0].label,y),16385&e.$$.dirty[0]&&n(0,y.map.styleUrl="Custom"==y.map.style?i.query.style:y.map.styles.filter(e=>e.label==y.map.style)[0].styleUrl,y),16384&e.$$.dirty[0]&&(w=i.query.terrain||1.5),16384&e.$$.dirty[0]&&(k=i.query.title||null),16384&e.$$.dirty[0]&&n(3,S=i.query.description||null),16384&e.$$.dirty[0]&&(C=i.query.place||""),16385&e.$$.dirty[0]&&n(0,y.map.worldview=i.query.worldview||y.map.worldview,y),16384&e.$$.dirty[0]&&n(0,y.map.accessToken=i.query.access_token||"pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiY2l3ZmNjNXVzMDAzZzJ0cDV6b2lkOG9odSJ9.eep6sUoBS0eMN4thZUWpyQ",y)},[y,h,v,S,p,m,d,j,function(e){u=h.getMap(),$(e),x()},function(e){n(0,y.map.style=e.detail.style.label,y);const t=`?style=${y.map.style}${window.location.hash}`;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Public Map",t),u.once("styledata",(function(e){x()}))},$,function(e){l.h[e?"unshift":"push"](()=>{h=e,n(1,h)})}]}class N extends l.a{constructor(e){var t;super(),$.getElementById("svelte-18z6i22-style")||((t=Object(l.v)("style")).id="svelte-18z6i22-style",t.textContent="#map.svelte-18z6i22.svelte-18z6i22{height:100vh}#locator-map.svelte-18z6i22.svelte-18z6i22{position:absolute;right:10px;bottom:10px}section.svelte-18z6i22.svelte-18z6i22{position:absolute;left:46px;top:12px;z-index:99}span.block.svelte-18z6i22.svelte-18z6i22{padding:0 4px;background-color:rgba(255, 255, 255, 0.5)}#description.svelte-18z6i22>.svelte-18z6i22{background-color:rgba(255, 255, 255, 0.5);color:#111;padding:3px}#description.svelte-18z6i22.svelte-18z6i22:empty{display:none}.mapboxgl-control-container > * > *{opacity:0;transition:opacity 5s ease-out;z-index:99}.mapboxgl-ctrl-attrib, .mapboxgl-ctrl-bottom-left\n      > .mapboxgl-ctrl:nth-child(3), .mapboxgl-ctrl-bottom-left\n      > .mapboxgl-ctrl:nth-child(4){opacity:1;transition:opacity 0.1s ease-out;z-index:99}.mapboxgl-control-container:hover > * > *{opacity:1;transition:opacity 0.1s ease-in}.mapboxgl-ctrl-geocoder{width:30px;min-width:30px}.mapboxgl-ctrl-geocoder .suggestions li, .mapboxgl-ctrl-geocoder\n      div{display:none}.mapboxgl-ctrl-geocoder:hover{width:200px;min-width:inherit;transition:width 0.3s ease-in-out}.mapboxgl-ctrl-geocoder:hover\n      .suggestions\n      li, .mapboxgl-ctrl-geocoder:hover div{display:inherit}",Object(l.d)($.head,t)),Object(l.C)(this,e,L,S,l.L,{settings:0},[-1,-1])}}var M=N;function T(e){let t,o,s,a;function c(t){e[1].call(null,t)}let n={};return void 0!==e[0]&&(n.map=e[0]),o=new M({props:n}),l.h.push(()=>Object(l.g)(o,"map",c)),{c(){t=Object(l.P)(),Object(l.q)(o.$$.fragment),this.h()},l(e){Object(l.J)('[data-svelte="svelte-14wj8fu"]',document.head).forEach(l.u),t=Object(l.m)(e),Object(l.k)(o.$$.fragment,e),this.h()},h(){document.title="Atlas"},m(e,s){Object(l.D)(e,t,s),Object(l.F)(o,e,s),a=!0},p(e,[t]){const a={};!s&&1&t&&(s=!0,a.map=e[0],Object(l.b)(()=>s=!1)),o.$set(a)},i(e){a||(Object(l.S)(o.$$.fragment,e),a=!0)},o(e){Object(l.T)(o.$$.fragment,e),a=!1},d(e){e&&Object(l.u)(t),Object(l.s)(o,e)}}}function q(e,t,o){let l;return[l,function(e){l=e,o(0,l)}]}class D extends l.a{constructor(e){super(),Object(l.C)(this,e,q,T,l.L,{})}}t.default=D}}]);