(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(t,e){},108:function(t,e,o){"use strict";o.r(e);var a=o(0),c=o(103),n=o(1);const l={};var s=o(54);function r(t,e,o){const{getMap:a,getMapbox:c}=Object(n.c)(l),r=a();c();let{position:i="bottom-right"}=e;const b={};return r.addControl(new s.a(b),i),t.$$set=t=>{"position"in t&&o(0,i=t.position)},[i,b]}class i extends a.a{constructor(t){super(),Object(a.D)(this,t,r,null,a.N,{position:0,options:1})}get options(){return this.$$.ctx[1]}}var b=i,p=o(58),u=o(59);function d(t,e,o){const{getMap:a,getMapbox:c}=Object(n.c)(l),s=a();c();let{position:r="top-right"}=e;return s.addControl(new p.a,r),s.addControl(new u.a,r),t.$$set=t=>{"position"in t&&o(0,r=t.position)},[r]}class m extends a.a{constructor(t){super(),Object(a.D)(this,t,d,null,a.N,{position:0})}}var j=m,O=o(60);function y(t,e,o){const{getMap:a,getMapbox:c}=Object(n.c)(l),s=a();c();let{position:r="bottom-right"}=e;const i={};return s.addControl(new O.a(i),r),t.$$set=t=>{"position"in t&&o(0,r=t.position)},[r,i]}class h extends a.a{constructor(t){super(),Object(a.D)(this,t,y,null,a.N,{position:0,options:1})}get options(){return this.$$.ctx[1]}}var g=h;a.a;var f=o(61);function w(t,e,o){const a=Object(n.b)(),{getMap:c,getMapbox:s}=Object(n.c)(l),r=c();s();let{styles:i=[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v9"},{label:"Satellite",styleName:"Satellite",styleUrl:"mapbox://styles/mapbox/satellite-v9"}]}=e,{position:b="bottom-right"}=e;return r.addControl(new f.a({styles:i,onChange:t=>a("change",{style:t})}),b),t.$$set=t=>{"styles"in t&&o(0,i=t.styles),"position"in t&&o(1,b=t.position)},[i,b]}class $ extends a.a{constructor(t){super(),Object(a.D)(this,t,w,null,a.N,{styles:0,position:1})}}var x=$;const{document:v}=a.A;function k(t,e,o){const{getMap:a}=Object(n.c)(l),c=a();document.getElementsByClassName("mapboxgl-canvas-container")[0].insertAdjacentHTML("afterend",'<div id="tiltShift"></div><div id="mist"></div>');var s=document.getElementById("tiltShift"),r=document.getElementById("mist");function i(){var t,e=c.getPitch(),o=1-(c.getZoom()-4)/18,a=e/80,n=Math.max(1-e/80,0),l="blur("+1*((t=a)*t*t)*o+"px)",i=75+25*function(t){return 1-Math.pow(1-t,3)}(n);s.style.backdropFilter=l,s.style.webkitBackdropFilter=l,s.style.webkitMaskImage="-webkit-gradient(linear, left bottom, left top, from(black), color-stop(5%, black), color-stop(45%, rgba(0, 0, 0, 0)), color-stop(55%, rgba(0, 0, 0, 0)), color-stop("+i+"%, black), to(black))",s.style.maskImage="linear-gradient(0deg, black 0%, black 5%, rgba(0, 0, 0, 0) 45%, rgba(0, 0, 0, 0) 55%, black "+i+"%)";var b=.5*n*.2*o,p=.2*o;r.style.maskImage="linear-gradient(0deg, rgba(0, 0, 0, "+b+") 0%, rgba(0, 0, 0, "+p+") 100%)",r.style.webkitMaskImage="-webkit-gradient(linear, left bottom, left top, color-stop(0%, rgba(0, 0, 0, "+b+")), color-stop(100%, rgba(0, 0, 0, "+p+")))"}return s.style.display="block",r.style.display="block",i(),c.on("move",(function(){i()})),[.2,1]}class _ extends a.a{constructor(t){var e;super(),v.getElementById("svelte-1hhj2tg-style")||((e=Object(a.v)("style")).id="svelte-1hhj2tg-style",e.textContent="#tiltShift{display:none;position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;pointer-events:none}#mist{display:none;position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;pointer-events:none;background-color:blanchedalmond}",Object(a.d)(v.head,e)),Object(a.D)(this,t,k,null,a.N,{mistAmount:0,tiltShiftMaxBlur:1})}get mistAmount(){return this.$$.ctx[0]}get tiltShiftMaxBlur(){return this.$$.ctx[1]}}var C=_,E=o(2);Object(E.a)({title:"Public Map"});var S=o(63),M=o.n(S),N=o(104);var q=o(3),L=o(26);const{document:T}=a.A;function U(t,e,o){const a=t.slice();return a[28]=e[o],a}function I(t){let e,o,c,n,l,s,r,i,p,u,d,m,O,y;return e=new C({}),c=new j({}),l=new t[5]({props:{position:"top-right",options:{trackUserLocation:!0}}}),l.$on("geolocate",J),r=new x({props:{styles:t[0].map.styles}}),r.$on("change",t[8]),p=new g({}),d=new b({}),O=new t[6]({props:{position:"bottom-left"}}),{c(){Object(a.q)(e.$$.fragment),o=Object(a.R)(),Object(a.q)(c.$$.fragment),n=Object(a.R)(),Object(a.q)(l.$$.fragment),s=Object(a.R)(),Object(a.q)(r.$$.fragment),i=Object(a.R)(),Object(a.q)(p.$$.fragment),u=Object(a.R)(),Object(a.q)(d.$$.fragment),m=Object(a.R)(),Object(a.q)(O.$$.fragment)},l(t){Object(a.k)(e.$$.fragment,t),o=Object(a.m)(t),Object(a.k)(c.$$.fragment,t),n=Object(a.m)(t),Object(a.k)(l.$$.fragment,t),s=Object(a.m)(t),Object(a.k)(r.$$.fragment,t),i=Object(a.m)(t),Object(a.k)(p.$$.fragment,t),u=Object(a.m)(t),Object(a.k)(d.$$.fragment,t),m=Object(a.m)(t),Object(a.k)(O.$$.fragment,t)},m(t,b){Object(a.H)(e,t,b),Object(a.E)(t,o,b),Object(a.H)(c,t,b),Object(a.E)(t,n,b),Object(a.H)(l,t,b),Object(a.E)(t,s,b),Object(a.H)(r,t,b),Object(a.E)(t,i,b),Object(a.H)(p,t,b),Object(a.E)(t,u,b),Object(a.H)(d,t,b),Object(a.E)(t,m,b),Object(a.H)(O,t,b),y=!0},p(t,e){const o={};1&e[0]&&(o.styles=t[0].map.styles),r.$set(o)},i(t){y||(Object(a.U)(e.$$.fragment,t),Object(a.U)(c.$$.fragment,t),Object(a.U)(l.$$.fragment,t),Object(a.U)(r.$$.fragment,t),Object(a.U)(p.$$.fragment,t),Object(a.U)(d.$$.fragment,t),Object(a.U)(O.$$.fragment,t),y=!0)},o(t){Object(a.V)(e.$$.fragment,t),Object(a.V)(c.$$.fragment,t),Object(a.V)(l.$$.fragment,t),Object(a.V)(r.$$.fragment,t),Object(a.V)(p.$$.fragment,t),Object(a.V)(d.$$.fragment,t),Object(a.V)(O.$$.fragment,t),y=!1},d(t){Object(a.s)(e,t),t&&Object(a.u)(o),Object(a.s)(c,t),t&&Object(a.u)(n),Object(a.s)(l,t),t&&Object(a.u)(s),Object(a.s)(r,t),t&&Object(a.u)(i),Object(a.s)(p,t),t&&Object(a.u)(u),Object(a.s)(d,t),t&&Object(a.u)(m),Object(a.s)(O,t)}}}function P(t){let e,o,c=t[0].map.title+"";return{c(){e=Object(a.v)("h2"),o=Object(a.T)(c),this.h()},l(t){e=Object(a.l)(t,"H2",{class:!0});var n=Object(a.j)(e);o=Object(a.n)(n,c),n.forEach(a.u),this.h()},h(){Object(a.f)(e,"class","uk-no-margin uk-heading-divider")},m(t,c){Object(a.E)(t,e,c),Object(a.d)(e,o)},p(t,e){1&e[0]&&c!==(c=t[0].map.title+"")&&Object(a.P)(o,c)},d(t){t&&Object(a.u)(e)}}}function R(t){let e,o=M()(t[0].map.description,{allowedAttributes:{data:["data-lat","data-lng"]}})+"";return{c(){e=Object(a.v)("p")},l(t){e=Object(a.l)(t,"P",{}),Object(a.j)(e).forEach(a.u)},m(t,c){Object(a.E)(t,e,c),e.innerHTML=o},p(t,a){1&a[0]&&o!==(o=M()(t[0].map.description,{allowedAttributes:{data:["data-lat","data-lng"]}})+"")&&(e.innerHTML=o)},d(t){t&&Object(a.u)(e)}}}function z(t){let e,o,c,n,l,s,r={ctx:t,current:null,token:null,hasCatch:!1,pending:B,then:A,catch:H,value:27};return Object(a.C)(n=t[0].map.locationContext.fetch,r),{c(){e=Object(a.v)("span"),o=Object(a.v)("span"),c=Object(a.R)(),r.block.c(),l=Object(a.R)(),s=Object(a.v)("br"),this.h()},l(t){e=Object(a.l)(t,"SPAN",{});var n=Object(a.j)(e);o=Object(a.l)(n,"SPAN",{"uk-icon":!0}),Object(a.j)(o).forEach(a.u),c=Object(a.m)(n),r.block.l(n),n.forEach(a.u),l=Object(a.m)(t),s=Object(a.l)(t,"BR",{}),this.h()},h(){Object(a.f)(o,"uk-icon","icon: world")},m(t,n){Object(a.E)(t,e,n),Object(a.d)(e,o),Object(a.d)(e,c),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,Object(a.E)(t,l,n),Object(a.E)(t,s,n)},p(e,o){if(t=e,r.ctx=t,1&o[0]&&n!==(n=t[0].map.locationContext.fetch)&&Object(a.C)(n,r));else{const e=t.slice();e[27]=r.resolved,r.block.p(e,o)}},d(t){t&&Object(a.u)(e),r.block.d(),r.token=null,r=null,t&&Object(a.u)(l),t&&Object(a.u)(s)}}}function H(t){return{c:a.I,l:a.I,m:a.I,p:a.I,d:a.I}}function A(t){let e,o=t[27].features,c=[];for(let e=0;e<o.length;e+=1)c[e]=V(U(t,o,e));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();e=Object(a.w)()},l(t){for(let e=0;e<c.length;e+=1)c[e].l(t);e=Object(a.w)()},m(t,o){for(let e=0;e<c.length;e+=1)c[e].m(t,o);Object(a.E)(t,e,o)},p(t,a){if(3&a[0]){let n;for(o=t[27].features,n=0;n<o.length;n+=1){const l=U(t,o,n);c[n]?c[n].p(l,a):(c[n]=V(l),c[n].c(),c[n].m(e.parentNode,e))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},d(t){Object(a.t)(c,t),t&&Object(a.u)(e)}}}function D(t){let e,o,c,n,l=t[28].text+"",s=-1==t[28].place_type.indexOf("country")?", ":"";return{c(){e=Object(a.v)("a"),o=Object(a.T)(l),n=Object(a.T)(s),this.h()},l(t){e=Object(a.l)(t,"A",{target:!0,class:!0,href:!0});var c=Object(a.j)(e);o=Object(a.n)(c,l),c.forEach(a.u),n=Object(a.n)(t,s),this.h()},h(){Object(a.f)(e,"target","_blank"),Object(a.f)(e,"class","uk-link-reset"),Object(a.f)(e,"href",c="https://www.wikidata.org/wiki/"+t[28].properties.wikidata)},m(t,c){Object(a.E)(t,e,c),Object(a.d)(e,o),Object(a.E)(t,n,c)},p(t,r){1&r[0]&&l!==(l=t[28].text+"")&&Object(a.P)(o,l),1&r[0]&&c!==(c="https://www.wikidata.org/wiki/"+t[28].properties.wikidata)&&Object(a.f)(e,"href",c),1&r[0]&&s!==(s=-1==t[28].place_type.indexOf("country")?", ":"")&&Object(a.P)(n,s)},d(t){t&&Object(a.u)(e),t&&Object(a.u)(n)}}}function V(t){let e,o=t[28].place_type.indexOf("country")>-1||t[28].place_type.indexOf("region")>-1&&t[1].getZoom()>6||t[28].place_type.indexOf("district")>-1&&t[1].getZoom()>9,c=o&&D(t);return{c(){c&&c.c(),e=Object(a.w)()},l(t){c&&c.l(t),e=Object(a.w)()},m(t,o){c&&c.m(t,o),Object(a.E)(t,e,o)},p(t,a){3&a[0]&&(o=t[28].place_type.indexOf("country")>-1||t[28].place_type.indexOf("region")>-1&&t[1].getZoom()>6||t[28].place_type.indexOf("district")>-1&&t[1].getZoom()>9),o?c?c.p(t,a):(c=D(t),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null)},d(t){c&&c.d(t),t&&Object(a.u)(e)}}}function B(t){let e,o;return{c(){e=Object(a.v)("span"),o=Object(a.T)("...")},l(t){e=Object(a.l)(t,"SPAN",{});var c=Object(a.j)(e);o=Object(a.n)(c,"..."),c.forEach(a.u)},m(t,c){Object(a.E)(t,e,c),Object(a.d)(e,o)},p:a.I,d(t){t&&Object(a.u)(e)}}}function Z(t){let e,o,c,n,l,s=t[0].map.styleName?t[0].map.styleName+" by "+t[0].map.stylesheet.owner:"Loading";return{c(){e=Object(a.v)("span"),o=Object(a.T)("Cartography:\n        "),c=Object(a.v)("a"),n=Object(a.T)(s),this.h()},l(t){e=Object(a.l)(t,"SPAN",{});var l=Object(a.j)(e);o=Object(a.n)(l,"Cartography:\n        "),c=Object(a.l)(l,"A",{class:!0,href:!0});var r=Object(a.j)(c);n=Object(a.n)(r,s),r.forEach(a.u),l.forEach(a.u),this.h()},h(){Object(a.f)(c,"class","uk-link-reset"),Object(a.f)(c,"href",l=`https://api.mapbox.com/styles/v1/${t[0].map.stylesheet.owner}/${t[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${t[0].map.accessToken}${window.location.hash}`)},m(t,l){Object(a.E)(t,e,l),Object(a.d)(e,o),Object(a.d)(e,c),Object(a.d)(c,n)},p(t,e){1&e[0]&&s!==(s=t[0].map.styleName?t[0].map.styleName+" by "+t[0].map.stylesheet.owner:"Loading")&&Object(a.P)(n,s),1&e[0]&&l!==(l=`https://api.mapbox.com/styles/v1/${t[0].map.stylesheet.owner}/${t[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${t[0].map.accessToken}${window.location.hash}`)&&Object(a.f)(c,"href",l)},d(t){t&&Object(a.u)(e)}}}function G(t){let e,o,n,l,s,r,i,b,p,u,d,m,j,O,y,h={accessToken:t[0].map.accessToken,style:t[0].map.styleUrl,options:{hash:!0,attributionControl:!0,customAttribution:t[3]},version:"v2.0.1",$$slots:{default:[I]},$$scope:{ctx:t}};o=new c.a({props:h}),t[10](o),o.$on("ready",t[7]),o.$on("recentre",t[9]);let g=t[0].map.title&&P(t),f=t[0].map.description&&R(t),w=t[0].map.locationContext.iso_3166_1&&z(t),$=t[0].map.stylesheet&&Z(t),x=!1;return{c(){e=Object(a.v)("div"),Object(a.q)(o.$$.fragment),n=Object(a.R)(),l=Object(a.v)("section"),s=Object(a.v)("div"),g&&g.c(),r=Object(a.R)(),i=Object(a.v)("button"),b=Object(a.R)(),f&&f.c(),p=Object(a.R)(),w&&w.c(),u=Object(a.R)(),$&&$.c(),d=Object(a.R)(),m=Object(a.v)("div"),x&&x.c(),this.h()},l(t){e=Object(a.l)(t,"DIV",{id:!0,class:!0});var c=Object(a.j)(e);Object(a.k)(o.$$.fragment,c),c.forEach(a.u),n=Object(a.m)(t),l=Object(a.l)(t,"SECTION",{id:!0,class:!0});var j=Object(a.j)(l);s=Object(a.l)(j,"DIV",{class:!0});var O=Object(a.j)(s);g&&g.l(O),r=Object(a.m)(O),i=Object(a.l)(O,"BUTTON",{type:!0,"uk-close":!0,style:!0}),Object(a.j)(i).forEach(a.u),b=Object(a.m)(O),f&&f.l(O),p=Object(a.m)(O),w&&w.l(O),u=Object(a.m)(O),$&&$.l(O),O.forEach(a.u),j.forEach(a.u),d=Object(a.m)(t),m=Object(a.l)(t,"DIV",{id:!0,class:!0});var y=Object(a.j)(m);x&&x.l(y),y.forEach(a.u),this.h()},h(){Object(a.f)(e,"id","map"),Object(a.f)(e,"class","svelte-wav1kx"),Object(a.f)(i,"type","button"),Object(a.f)(i,"uk-close",""),Object(a.Q)(i,"position","absolute"),Object(a.Q)(i,"top","10px"),Object(a.Q)(i,"right","10px"),Object(a.f)(s,"class","uk-card uk-card-body uk-card-default uk-card-small uk-card-hover"),Object(a.f)(l,"id","info-panel"),Object(a.f)(l,"class","uk-position-absolute uk-position-top-left svelte-wav1kx"),Object(a.f)(m,"id","locator-map"),Object(a.f)(m,"class","svelte-wav1kx")},m(t,c){Object(a.E)(t,e,c),Object(a.H)(o,e,null),Object(a.E)(t,n,c),Object(a.E)(t,l,c),Object(a.d)(l,s),g&&g.m(s,null),Object(a.d)(s,r),Object(a.d)(s,i),Object(a.d)(s,b),f&&f.m(s,null),Object(a.d)(s,p),w&&w.m(s,null),Object(a.d)(s,u),$&&$.m(s,null),Object(a.E)(t,d,c),Object(a.E)(t,m,c),x&&x.m(m,null),j=!0,O||(y=Object(a.G)(i,"click",K,{once:!0}),O=!0)},p(t,e){const a={};1&e[0]&&(a.accessToken=t[0].map.accessToken),1&e[0]&&(a.style=t[0].map.styleUrl),8&e[0]&&(a.options={hash:!0,attributionControl:!0,customAttribution:t[3]}),1&e[0]|1&e[1]&&(a.$$scope={dirty:e,ctx:t}),o.$set(a),t[0].map.title?g?g.p(t,e):(g=P(t),g.c(),g.m(s,r)):g&&(g.d(1),g=null),t[0].map.description?f?f.p(t,e):(f=R(t),f.c(),f.m(s,p)):f&&(f.d(1),f=null),t[0].map.locationContext.iso_3166_1?w?w.p(t,e):(w=z(t),w.c(),w.m(s,u)):w&&(w.d(1),w=null),t[0].map.stylesheet?$?$.p(t,e):($=Z(t),$.c(),$.m(s,null)):$&&($.d(1),$=null),x&&(x.d(1),x=null)},i(t){j||(Object(a.U)(o.$$.fragment,t),j=!0)},o(t){Object(a.V)(o.$$.fragment,t),j=!1},d(c){c&&Object(a.u)(e),t[10](null),Object(a.s)(o),c&&Object(a.u)(n),c&&Object(a.u)(l),g&&g.d(),f&&f.d(),w&&w.d(),$&&$.d(),c&&Object(a.u)(d),c&&Object(a.u)(m),x&&x.d(),O=!1,y()}}}function J(t){}function K(){document.getElementById("info-panel").style.display="none"}function Y(t,e,o){let s;const{page:r,session:i}=Object(q.b)();Object(a.o)(t,r,t=>o(12,s=t));const{GeolocateControl:b,ScaleControl:p}=c.b;let u,d,m;Object(n.f)(l,{getMap:()=>u,getMapbox:()=>d});let{settings:j={fetch:{locationContext:null},user:{locale:"en-US",language:"en",fallbackLanguage:"en",location:{iso_3166_1:null,geoip:null,gps:null}},map:{accessToken:null,title:null,description:null,attribution:null,worldviews:["US","CN","IN","JP"],worldview:"US",style:null,styles:[{label:"Satellite",styleName:"Mapbox Satellite",styleUrl:"mapbox://styles/mapbox/satellite-streets-v11"},{label:"Railway",styleName:"Railway",styleUrl:"mapbox://styles/planemad/ck7p3wxmp0q571imu99elwqs1"},{label:"Hydrology",styleName:"Hydrology",styleUrl:"mapbox://styles/planemad/ckd42fwa20n531iqrewerwla1"},{label:"OpenStreetMap",styleName:"OpenStreetMap",styleUrl:"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik-india-v8.json"},{label:"Connectivity",styleName:"Connectivity",styleUrl:"mapbox://styles/planemad/ckhijjwug10ht19mjwvno5o38"}],locationContext:{text:"",fetch:null,geojson:null},source:{geojson:null,vector:null,wmts:null,wms:null},camera:{rotate:!1,blur:!1}}}}=e;const O=Object(N.a)(s.query.description);j.map.markers=[],O.querySelectorAll("data").forEach(t=>{j.map.markers.push({lng:parseInt(t.getAttribute("data-lng")),lat:parseInt(t.getAttribute("data-lat"))})});function y(t){let e=u.getCenter(),a=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e.lng}%2C${e.lat}.json?access_token=${j.map.accessToken}&worldview=${j.map.worldview.toLocaleLowerCase()}&types=country%2Cregion%2Cdistrict%2Cpostcode%2Clocality%2Cplace%2Cneighborhood%2Caddress%2Cpoi&language=${j.user.language}`;o(0,j.map.locationContext.fetch=fetch(a).then(t=>t.json()).then(t=>(o(0,j.map.locationContext.geojson=t,j),t.features.length&&(o(0,j.map.locationContext.iso_3166_1_label=t.features[t.features.length-1]["text_"+j.user.language],j),o(0,j.map.locationContext.iso_3166_1=t.features[t.features.length-1].properties.short_code,j),t.features.forEach(t=>{(t.place_type.indexOf("country")>-1||t.place_type.indexOf("region")>-1&&u.getZoom()>6||t.place_type.indexOf("district")>-1&&u.getZoom()>9)&&o(0,j.map.locationContext.text+=t.text+(-1==t.place_type.indexOf("country")?", ":" "),j)})),function(){if(j.map.locationContext.iso_3166_1){const t=j.map.locationContext.iso_3166_1.toUpperCase(),e=["place_label","road","country_boundaries","admin"];u.getStyle().layers.filter(t=>e.indexOf(t["source-layer"])>-1).forEach(e=>{"symbol"==e.type&&(u.setPaintProperty(e.id,"text-opacity",["match",["get","iso_3166_1"],t,1,.5]),u.setLayoutProperty(e.id,"symbol-sort-key",["match",["get","iso_3166_1"],t,0,1]),u.setPaintProperty(e.id,"icon-opacity",["match",["get","iso_3166_1"],t,1,.1])),"fill"==e.type&&"country-mask"==e.id&&u.setPaintProperty(e.id,"fill-color",["case",["in",t,["get","iso_3166_1"]],"hsla(0, 0%, 94%, 0)",["match",["get","disputed"],["true"],!0,!1],"hsla(36, 0%, 10%, 0.05)","hsla(36, 0%, 100%, 0.5)"]),"line"==e.type&&("country-mask-outline"==e.id?u.setPaintProperty(e.id,"line-opacity",["case",["in",t,["get","iso_3166_1"]],1,0]):u.setPaintProperty(e.id,"line-opacity",["match",["get","iso_3166_1"],t,1,.3]))})}}(),t)),j)}function h(){o(0,j.map.styleName=u.getStyle().name,j),o(0,j.map.stylesheet=u.style.stylesheet,j);const t=u.getStyle().layers;let e=null;for(var a=0;a<t.length;a++)if("line"===t[a].type){e=t[a].id;break}let c=null;for(a=0;a<t.length;a++)if("symbol"===t[a].type&&t[a].layout["text-field"]){c=t[a].id;break}w>0&&(u.getSource("mapbox-dem")||(u.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),u.setTerrain({source:"mapbox-dem",exaggeration:["interpolate",["linear"],["zoom"],0,w*Math.pow(2,4),1,w*Math.pow(2,3),2,w*Math.pow(2,2),10,w*Math.pow(2,1),16,1]}))),u.getSource("3d-hillshade")||(u.addSource("3d-hillshade",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),u.addLayer({id:"3d-hillshade",source:"3d-hillshade",type:"hillshade",paint:{"hillshade-shadow-color":"#0f0f0f","hillshade-highlight-color":"#ffffff","hillshade-accent-color":"#625e3c","hillshade-exaggeration":["interpolate",["linear"],["zoom"],1,.7,6,.4,16,.1]}},c||null));const n=u.getStyle().layers.filter(t=>"country_boundaries"==t["source-layer"]);let l=u.getSource("country-boundaries");if(n.length?l=n[0].source:(u.addSource("country-boundaries",{type:"vector",url:"mapbox://mapbox.country-boundaries-v1",tileSize:512,maxzoom:14}),l="country-boundaries"),u.getLayer("country-mask")||(u.addLayer({id:"country-mask",type:"fill",source:l,"source-layer":"country_boundaries",paint:{"fill-color":"hsla(0, 0%, 94%, 0)"}},e||null),g("country-mask"),u.addLayer({id:"country-mask-outline",type:"line",source:l,"source-layer":"country_boundaries",paint:{"line-color":"hsla(0, 0%, 100%, 0.5)","line-width":["interpolate",["linear"],["zoom"],2,1,6,4]}},c||null),g("country-mask-outline")),j.map.source.wmts){const t=new URL(j.map.source.wmts);u.addSource("wmts",{type:"raster",tiles:[j.map.source.wmts],tileSize:512,attribution:`Overlay tiles from <a target="_top" rel="noopener" href="${j.map.source.wmts}">${t.hostname}</a>`}),u.addLayer({id:"raster-tiles",type:"raster",source:"wmts",minzoom:0,maxzoom:22,paint:{"raster-opacity":["interpolate",["linear"],["zoom"],12,.95,15,.8,17,.2]}},e)}u.getLayer("3d-buildings")||(u.getSource("composite")||u.addSource("composite",{type:"vector",url:"mapbox://mapbox.mapbox-streets-v8"}),u.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.8}},c)),u.getLayer("sky")||u.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":2}}),y()}function g(t,e){const o=["all",["any",["in",e||j.map.worldview,["get","worldview"]],["==","all",["get","worldview"]]]];u.setFilter(t,o)}let f,w,$;return Object(n.e)(()=>{s.query.config&&fetch(s.query.config).then(t=>t.json()).then(t=>{});const t=document.createElement("link");var e;return t.rel="stylesheet",t.href="https://raw.githack.com/bravecow/mapbox-gl-controls/master/theme.css",document.body.appendChild(t),(e=new XMLHttpRequest).open("GET","https://www.cloudflare.com/cdn-cgi/trace"),e.onreadystatechange=()=>{e.readyState==XMLHttpRequest.DONE&&200==e.status&&(o(0,j.user.location.iso_3166_1=e.responseText.match(/loc=([^\n+]*)/)[1].toUpperCase(),j),j.map.worldviews.indexOf(j.user.location.iso_3166_1)>-1&&o(0,j.map.worldview=j.user.location.iso_3166_1,j),m=L.filter(t=>!("all"!=t.worldview&&t.worldview!=j.mapWorldview||"sovereign state"!=t.description&&"dependent territory"!=t.description)))},e.send(null),()=>{u.remove(),t.parentNode.removeChild(t)}}),t.$$set=t=>{"settings"in t&&o(0,j=t.settings)},t.$$.update=()=>{4096&t.$$.dirty[0]&&o(3,f=s.query.attribution||null),4097&t.$$.dirty[0]&&o(0,j.map.style=s.query.style?j.map.styles.map(t=>t.label).indexOf(s.query.style)>-1?s.query.style:"Custom":j.map.styles[0].label,j),4097&t.$$.dirty[0]&&o(0,j.map.styleUrl="Custom"==j.map.style?s.query.style:j.map.styles.filter(t=>t.label==j.map.style)[0].styleUrl,j),4096&t.$$.dirty[0]&&(w=s.query.terrain||1.5),4096&t.$$.dirty[0]&&o(0,j.map.title=s.query.title||null,j),4096&t.$$.dirty[0]&&o(0,j.map.description=s.query.description?M()(s.query.description,{allowedAttributes:{data:["data-lat","data-lng"]}}):null,j),4096&t.$$.dirty[0]&&($=s.query.place||""),4097&t.$$.dirty[0]&&o(0,j.map.worldview=s.query.worldview||j.map.worldview,j),4096&t.$$.dirty[0]&&o(0,j.map.accessToken=s.query.access_token||"pk.eyJ1IjoicHVibGljbWFwIiwiYSI6ImNrajZuM3E2MDBtNzkyem55OG9oMjVwNHcifQ.S0ovBPKikZhHZ_6Dexk8Ow",j),4096&t.$$.dirty[0]&&o(0,j.map.source.wmts=s.query.wmts,j),4096&t.$$.dirty[0]&&o(0,j.map.source.wms=s.query.wms,j),4096&t.$$.dirty[0]&&o(0,j.map.camera.rotate=s.query.rotate_camera,j),4096&t.$$.dirty[0]&&o(0,j.map.camera.blur=s.query.blur,j)},[j,u,d,f,r,b,p,function(t){o(1,u=d.getMap()),y(t),h()},function(t){window.location.search.includes("style=")||(window.location.search+="&style="+t.detail.style.label);const e=`${window.location.search}${window.location.hash}`.replace("&style="+j.map.style,"&style="+t.detail.style.label);window.history.pushState({additionalInformation:"Updated the URL with JS"},"Public Map",e),o(0,j.map.style=t.detail.style.label,j),u.once("styledata",(function(t){h()}))},y,function(t){a.h[t?"unshift":"push"](()=>{d=t,o(2,d)})}]}class F extends a.a{constructor(t){var e;super(),T.getElementById("svelte-wav1kx-style")||((e=Object(a.v)("style")).id="svelte-wav1kx-style",e.textContent="#map.svelte-wav1kx{height:100vh;z-index:-1}#locator-map.svelte-wav1kx{position:absolute;right:10px;bottom:10px}section.svelte-wav1kx{z-index:99;margin-top:20px;margin-left:50px;width:400px}.uk-card-default{background:#ffffffbd}#description data{font-weight:bold}.mapboxgl-control-container > *:not(.mapboxgl-ctrl-bottom-left) > *{opacity:0;transition:opacity 5s ease-out;z-index:99}.mapboxgl-ctrl-attrib{opacity:1 !important;transition:opacity 0.1s ease-out;z-index:99}.mapboxgl-control-container:hover\n      > *:not(.mapboxgl-ctrl-bottom-left)\n      > *{opacity:1;transition:opacity 0.1s ease-in}",Object(a.d)(T.head,e)),Object(a.D)(this,t,Y,G,a.N,{settings:0},[-1,-1])}}var Q=F;function W(t){let e,o,c,n,l,s,r,i;function b(e){t[1].call(null,e)}let p={};return void 0!==t[0]&&(p.map=t[0]),s=new Q({props:p}),a.h.push(()=>Object(a.g)(s,"map",b)),{c(){e=Object(a.v)("script"),c=Object(a.v)("script"),n=Object(a.T)('window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n    gtag("js", new Date());\n\n    gtag("config", "G-VKRDLTY01M");'),l=Object(a.R)(),Object(a.q)(s.$$.fragment),this.h()},l(t){const o=Object(a.L)('[data-svelte="svelte-nv7bo2"]',document.head);e=Object(a.l)(o,"SCRIPT",{async:!0,src:!0}),Object(a.j)(e).forEach(a.u),c=Object(a.l)(o,"SCRIPT",{});var r=Object(a.j)(c);n=Object(a.n)(r,'window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n    gtag("js", new Date());\n\n    gtag("config", "G-VKRDLTY01M");'),r.forEach(a.u),o.forEach(a.u),l=Object(a.m)(t),Object(a.k)(s.$$.fragment,t),this.h()},h(){document.title="Public Map",e.async=!0,e.src!==(o="https://www.googletagmanager.com/gtag/js?id=G-VKRDLTY01M")&&Object(a.f)(e,"src","https://www.googletagmanager.com/gtag/js?id=G-VKRDLTY01M")},m(t,o){Object(a.d)(document.head,e),Object(a.d)(document.head,c),Object(a.d)(c,n),Object(a.E)(t,l,o),Object(a.H)(s,t,o),i=!0},p(t,[e]){const o={};!r&&1&e&&(r=!0,o.map=t[0],Object(a.b)(()=>r=!1)),s.$set(o)},i(t){i||(Object(a.U)(s.$$.fragment,t),i=!0)},o(t){Object(a.V)(s.$$.fragment,t),i=!1},d(t){Object(a.u)(e),Object(a.u)(c),t&&Object(a.u)(l),Object(a.s)(s,t)}}}function X(t,e,o){let a;return[a,function(t){a=t,o(0,a)}]}class tt extends a.a{constructor(t){super(),Object(a.D)(this,t,X,W,a.N,{})}}e.default=tt},39:function(t,e){},80:function(t,e){}}]);