(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(t,e){},109:function(t,e,a){"use strict";a.r(e);var o=a(0),n=a(104),l=a(1);const c={};var s=a(54);function i(t,e,a){const{getMap:o,getMapbox:n}=Object(l.c)(c),i=o();n();let{position:r="bottom-right"}=e;const p={};return i.addControl(new s.a(p),r),t.$$set=t=>{"position"in t&&a(0,r=t.position)},[r,p]}class r extends o.a{constructor(t){super(),Object(o.D)(this,t,i,null,o.N,{position:0,options:1})}get options(){return this.$$.ctx[1]}}var p=r,b=a(58),u=a(59);function m(t,e,a){const{getMap:o,getMapbox:n}=Object(l.c)(c),s=o();n();let{position:i="top-right"}=e;return s.addControl(new b.a,i),s.addControl(new u.a,i),t.$$set=t=>{"position"in t&&a(0,i=t.position)},[i]}class d extends o.a{constructor(t){super(),Object(o.D)(this,t,m,null,o.N,{position:0})}}var y=d,g=a(60);function j(t,e,a){const{getMap:o,getMapbox:n}=Object(l.c)(c),s=o();n();let{position:i="bottom-right"}=e;const r={};return s.addControl(new g.a(r),i),t.$$set=t=>{"position"in t&&a(0,i=t.position)},[i,r]}class O extends o.a{constructor(t){super(),Object(o.D)(this,t,j,null,o.N,{position:0,options:1})}get options(){return this.$$.ctx[1]}}var f=O;o.a;var h=a(61);function w(t,e,a){const o=Object(l.b)(),{getMap:n,getMapbox:s}=Object(l.c)(c),i=n();s();let{styles:r=[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v9"},{label:"Satellite",styleName:"Satellite",styleUrl:"mapbox://styles/mapbox/satellite-v9"}]}=e,{position:p="bottom-right"}=e;return i.addControl(new h.a({styles:r,onChange:t=>o("change",{style:t})}),p),t.$$set=t=>{"styles"in t&&a(0,r=t.styles),"position"in t&&a(1,p=t.position)},[r,p]}class $ extends o.a{constructor(t){super(),Object(o.D)(this,t,w,null,o.N,{styles:0,position:1})}}var x=$;const{document:k}=o.A;function v(t,e,a){const{getMap:o}=Object(l.c)(c),n=o();document.getElementsByClassName("mapboxgl-canvas-container")[0].insertAdjacentHTML("afterend",'<div id="tiltShift"></div><div id="mist"></div>');var s=document.getElementById("tiltShift"),i=document.getElementById("mist");function r(){var t,e=n.getPitch(),a=1-(n.getZoom()-4)/18,o=e/80,l=Math.max(1-e/80,0),c="blur("+1*((t=o)*t*t)*a+"px)",r=75+25*function(t){return 1-Math.pow(1-t,3)}(l);s.style.backdropFilter=c,s.style.webkitBackdropFilter=c,s.style.webkitMaskImage="-webkit-gradient(linear, left bottom, left top, from(black), color-stop(5%, black), color-stop(45%, rgba(0, 0, 0, 0)), color-stop(55%, rgba(0, 0, 0, 0)), color-stop("+r+"%, black), to(black))",s.style.maskImage="linear-gradient(0deg, black 0%, black 5%, rgba(0, 0, 0, 0) 45%, rgba(0, 0, 0, 0) 55%, black "+r+"%)";var p=.5*l*.2*a,b=.2*a;i.style.maskImage="linear-gradient(0deg, rgba(0, 0, 0, "+p+") 0%, rgba(0, 0, 0, "+b+") 100%)",i.style.webkitMaskImage="-webkit-gradient(linear, left bottom, left top, color-stop(0%, rgba(0, 0, 0, "+p+")), color-stop(100%, rgba(0, 0, 0, "+b+")))"}return s.style.display="block",i.style.display="block",r(),n.on("move",(function(){r()})),[.2,1]}class C extends o.a{constructor(t){var e;super(),k.getElementById("svelte-1hhj2tg-style")||((e=Object(o.v)("style")).id="svelte-1hhj2tg-style",e.textContent="#tiltShift{display:none;position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;pointer-events:none}#mist{display:none;position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;pointer-events:none;background-color:blanchedalmond}",Object(o.d)(k.head,e)),Object(o.D)(this,t,v,null,o.N,{mistAmount:0,tiltShiftMaxBlur:1})}get mistAmount(){return this.$$.ctx[0]}get tiltShiftMaxBlur(){return this.$$.ctx[1]}}var _=C,E=a(2);const S=Object(E.a)({fetch:{locationContext:null},user:{locale:"en-US",language:"en",fallbackLanguage:"en",location:{iso_3166_1:null,geoip:null,gps:null}},map:{configUrl:null,accessToken:null,title:"publicmap.github.io",description:null,attribution:null,bbox:null,worldviews:["US","CN","IN","JP"],worldview:"US",style:null,styles:[{label:"Satellite",styleName:"Mapbox Satellite",styleUrl:"mapbox://styles/mapbox/satellite-streets-v11"},{label:"Railway",styleName:"Railway",styleUrl:"mapbox://styles/planemad/ck7p3wxmp0q571imu99elwqs1"},{label:"Hydrology",styleName:"Hydrology",styleUrl:"mapbox://styles/planemad/ckd42fwa20n531iqrewerwla1"},{label:"OpenStreetMap",styleName:"OpenStreetMap",styleUrl:"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik-india-v8.json"},{label:"Connectivity",styleName:"Connectivity",styleUrl:"mapbox://styles/planemad/ckhijjwug10ht19mjwvno5o38"}],locationContext:{text:"",fetch:null,geojson:null},source:{geojson:null,vector:null,tms:null,wms:null},camera:{rotate:!1,blur:!1},wikidata:{isEnabled:null}}});var L=a(63),U=a.n(L),M=a(105);var N=a(3),T=a(26);const{document:q}=o.A;function P(t,e,a){const o=t.slice();return o[30]=e[a],o}function I(t){let e,a,n,l,c,s,i,r,b,u,m,d,g,j;return e=new _({}),n=new y({}),c=new t[7]({props:{position:"top-right",options:{trackUserLocation:!0}}}),c.$on("geolocate",t[10]),i=new x({props:{styles:t[0].map.styles}}),i.$on("change",t[12]),b=new f({}),m=new p({}),g=new t[8]({props:{position:"bottom-left"}}),{c(){Object(o.q)(e.$$.fragment),a=Object(o.R)(),Object(o.q)(n.$$.fragment),l=Object(o.R)(),Object(o.q)(c.$$.fragment),s=Object(o.R)(),Object(o.q)(i.$$.fragment),r=Object(o.R)(),Object(o.q)(b.$$.fragment),u=Object(o.R)(),Object(o.q)(m.$$.fragment),d=Object(o.R)(),Object(o.q)(g.$$.fragment)},l(t){Object(o.k)(e.$$.fragment,t),a=Object(o.m)(t),Object(o.k)(n.$$.fragment,t),l=Object(o.m)(t),Object(o.k)(c.$$.fragment,t),s=Object(o.m)(t),Object(o.k)(i.$$.fragment,t),r=Object(o.m)(t),Object(o.k)(b.$$.fragment,t),u=Object(o.m)(t),Object(o.k)(m.$$.fragment,t),d=Object(o.m)(t),Object(o.k)(g.$$.fragment,t)},m(t,p){Object(o.H)(e,t,p),Object(o.E)(t,a,p),Object(o.H)(n,t,p),Object(o.E)(t,l,p),Object(o.H)(c,t,p),Object(o.E)(t,s,p),Object(o.H)(i,t,p),Object(o.E)(t,r,p),Object(o.H)(b,t,p),Object(o.E)(t,u,p),Object(o.H)(m,t,p),Object(o.E)(t,d,p),Object(o.H)(g,t,p),j=!0},p(t,e){const a={};1&e[0]&&(a.styles=t[0].map.styles),i.$set(a)},i(t){j||(Object(o.U)(e.$$.fragment,t),Object(o.U)(n.$$.fragment,t),Object(o.U)(c.$$.fragment,t),Object(o.U)(i.$$.fragment,t),Object(o.U)(b.$$.fragment,t),Object(o.U)(m.$$.fragment,t),Object(o.U)(g.$$.fragment,t),j=!0)},o(t){Object(o.V)(e.$$.fragment,t),Object(o.V)(n.$$.fragment,t),Object(o.V)(c.$$.fragment,t),Object(o.V)(i.$$.fragment,t),Object(o.V)(b.$$.fragment,t),Object(o.V)(m.$$.fragment,t),Object(o.V)(g.$$.fragment,t),j=!1},d(t){Object(o.s)(e,t),t&&Object(o.u)(a),Object(o.s)(n,t),t&&Object(o.u)(l),Object(o.s)(c,t),t&&Object(o.u)(s),Object(o.s)(i,t),t&&Object(o.u)(r),Object(o.s)(b,t),t&&Object(o.u)(u),Object(o.s)(m,t),t&&Object(o.u)(d),Object(o.s)(g,t)}}}function z(t){let e,a,n=t[5].map.title+"";return{c(){e=Object(o.v)("h3"),a=Object(o.T)(n),this.h()},l(t){e=Object(o.l)(t,"H3",{class:!0});var l=Object(o.j)(e);a=Object(o.n)(l,n),l.forEach(o.u),this.h()},h(){Object(o.f)(e,"class","uk-no-margin uk-heading-divider")},m(t,n){Object(o.E)(t,e,n),Object(o.d)(e,a)},p(t,e){32&e[0]&&n!==(n=t[5].map.title+"")&&Object(o.P)(a,n)},d(t){t&&Object(o.u)(e)}}}function R(t){let e,a=U()(t[0].map.description,{allowedAttributes:{data:["data-lat","data-lng"]}})+"";return{c(){e=Object(o.v)("p")},l(t){e=Object(o.l)(t,"P",{}),Object(o.j)(e).forEach(o.u)},m(t,n){Object(o.E)(t,e,n),e.innerHTML=a},p(t,o){1&o[0]&&a!==(a=U()(t[0].map.description,{allowedAttributes:{data:["data-lat","data-lng"]}})+"")&&(e.innerHTML=a)},d(t){t&&Object(o.u)(e)}}}function A(t){let e,a,n={ctx:t,current:null,token:null,hasCatch:!1,pending:Z,then:V,catch:H,value:29};return Object(o.C)(a=t[0].map.locationContext.fetch,n),{c(){e=Object(o.v)("div"),n.block.c(),this.h()},l(t){e=Object(o.l)(t,"DIV",{class:!0,style:!0});var a=Object(o.j)(e);n.block.l(a),a.forEach(o.u),this.h()},h(){Object(o.f)(e,"class","uk-position-absolute uk-position-center-left"),Object(o.Q)(e,"margin-left","50px")},m(t,a){Object(o.E)(t,e,a),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(e,l){if(t=e,n.ctx=t,1&l[0]&&a!==(a=t[0].map.locationContext.fetch)&&Object(o.C)(a,n));else{const e=t.slice();e[29]=n.resolved,n.block.p(e,l)}},d(t){t&&Object(o.u)(e),n.block.d(),n.token=null,n=null}}}function H(t){return{c:o.I,l:o.I,m:o.I,p:o.I,d:o.I}}function V(t){let e,a=t[29].features,n=[];for(let e=0;e<a.length;e+=1)n[e]=B(P(t,a,e));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=Object(o.w)()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);e=Object(o.w)()},m(t,a){for(let e=0;e<n.length;e+=1)n[e].m(t,a);Object(o.E)(t,e,a)},p(t,o){if(3&o[0]){let l;for(a=t[29].features,l=0;l<a.length;l+=1){const c=P(t,a,l);n[l]?n[l].p(c,o):(n[l]=B(c),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}},d(t){Object(o.t)(n,t),t&&Object(o.u)(e)}}}function D(t){let e,a,n,l,c=t[30].text+"",s=-1==t[30].place_type.indexOf("country")?", ":"";return{c(){e=Object(o.v)("a"),a=Object(o.T)(c),l=Object(o.T)(s),this.h()},l(t){e=Object(o.l)(t,"A",{target:!0,style:!0,href:!0});var n=Object(o.j)(e);a=Object(o.n)(n,c),n.forEach(o.u),l=Object(o.n)(t,s),this.h()},h(){Object(o.f)(e,"target","_blank"),Object(o.Q)(e,"color","grey"),Object(o.Q)(e,"text-decoration","underline"),Object(o.f)(e,"href",n="https://www.wikidata.org/wiki/"+t[30].properties.wikidata)},m(t,n){Object(o.E)(t,e,n),Object(o.d)(e,a),Object(o.E)(t,l,n)},p(t,i){1&i[0]&&c!==(c=t[30].text+"")&&Object(o.P)(a,c),1&i[0]&&n!==(n="https://www.wikidata.org/wiki/"+t[30].properties.wikidata)&&Object(o.f)(e,"href",n),1&i[0]&&s!==(s=-1==t[30].place_type.indexOf("country")?", ":"")&&Object(o.P)(l,s)},d(t){t&&Object(o.u)(e),t&&Object(o.u)(l)}}}function B(t){let e,a=t[30].place_type.indexOf("country")>-1||t[30].place_type.indexOf("region")>-1&&t[1].getZoom()>6||t[30].place_type.indexOf("district")>-1&&t[1].getZoom()>9,n=a&&D(t);return{c(){n&&n.c(),e=Object(o.w)()},l(t){n&&n.l(t),e=Object(o.w)()},m(t,a){n&&n.m(t,a),Object(o.E)(t,e,a)},p(t,o){3&o[0]&&(a=t[30].place_type.indexOf("country")>-1||t[30].place_type.indexOf("region")>-1&&t[1].getZoom()>6||t[30].place_type.indexOf("district")>-1&&t[1].getZoom()>9),a?n?n.p(t,o):(n=D(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&Object(o.u)(e)}}}function Z(t){let e,a;return{c(){e=Object(o.v)("span"),a=Object(o.T)("...")},l(t){e=Object(o.l)(t,"SPAN",{});var n=Object(o.j)(e);a=Object(o.n)(n,"..."),n.forEach(o.u)},m(t,n){Object(o.E)(t,e,n),Object(o.d)(e,a)},p:o.I,d(t){t&&Object(o.u)(e)}}}function G(t){let e,a,n,l,c,s=t[0].map.styleName?t[0].map.styleName+" by "+t[0].map.stylesheet.owner:"Loading";return{c(){e=Object(o.v)("span"),a=Object(o.T)("Cartography:\n        "),n=Object(o.v)("a"),l=Object(o.T)(s),this.h()},l(t){e=Object(o.l)(t,"SPAN",{});var c=Object(o.j)(e);a=Object(o.n)(c,"Cartography:\n        "),n=Object(o.l)(c,"A",{class:!0,href:!0});var i=Object(o.j)(n);l=Object(o.n)(i,s),i.forEach(o.u),c.forEach(o.u),this.h()},h(){Object(o.f)(n,"class","uk-link-reset"),Object(o.f)(n,"href",c=`https://api.mapbox.com/styles/v1/${t[0].map.stylesheet.owner}/${t[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${t[0].map.accessToken}${window.location.hash}`)},m(t,c){Object(o.E)(t,e,c),Object(o.d)(e,a),Object(o.d)(e,n),Object(o.d)(n,l)},p(t,e){1&e[0]&&s!==(s=t[0].map.styleName?t[0].map.styleName+" by "+t[0].map.stylesheet.owner:"Loading")&&Object(o.P)(l,s),1&e[0]&&c!==(c=`https://api.mapbox.com/styles/v1/${t[0].map.stylesheet.owner}/${t[0].map.stylesheet.id}.html?fresh=true&title=copy&access_token=${t[0].map.accessToken}${window.location.hash}`)&&Object(o.f)(n,"href",c)},d(t){t&&Object(o.u)(e)}}}function J(t){let e,a,l,c,s,i,r,p,b,u,m,d,y,g,j,O,f,h,w,$={accessToken:t[0].map.accessToken,style:t[0].map.styleUrl,options:{hash:!0,attributionControl:!0,customAttribution:t[4]},version:"v2.0.1",$$slots:{default:[I]},$$scope:{ctx:t}};a=new n.b({props:$}),t[14](a),a.$on("ready",t[11]),a.$on("recentre",t[13]);let x=t[5].map.title&&z(t),k=t[0].map.description&&R(t),v=t[0].map.locationContext.iso_3166_1&&A(t);function C(e){t[15].call(null,e)}let _={accessToken:t[0].map.accessToken,types:["country","region","postcode","district","place","locality","neighborhood"],options:{clearOnBlur:!0,collapsed:!0,marker:!0,mapboxgl:t[3]}};void 0!==t[2]&&(_.geocoder=t[2]),d=new n.a({props:_}),o.h.push(()=>Object(o.g)(d,"geocoder",C)),d.$on("ready",Q),d.$on("result",t[9]);let E=t[0].map.stylesheet&&G(t),S=!1;return{c(){e=Object(o.v)("div"),Object(o.q)(a.$$.fragment),l=Object(o.R)(),c=Object(o.v)("section"),s=Object(o.v)("div"),x&&x.c(),i=Object(o.R)(),r=Object(o.v)("button"),p=Object(o.R)(),k&&k.c(),b=Object(o.R)(),u=Object(o.v)("div"),v&&v.c(),m=Object(o.R)(),Object(o.q)(d.$$.fragment),g=Object(o.R)(),E&&E.c(),j=Object(o.R)(),O=Object(o.v)("div"),S&&S.c(),this.h()},l(t){e=Object(o.l)(t,"DIV",{id:!0,class:!0});var n=Object(o.j)(e);Object(o.k)(a.$$.fragment,n),n.forEach(o.u),l=Object(o.m)(t),c=Object(o.l)(t,"SECTION",{id:!0,class:!0});var y=Object(o.j)(c);s=Object(o.l)(y,"DIV",{class:!0});var f=Object(o.j)(s);x&&x.l(f),i=Object(o.m)(f),r=Object(o.l)(f,"BUTTON",{type:!0,"uk-close":!0,style:!0}),Object(o.j)(r).forEach(o.u),p=Object(o.m)(f),k&&k.l(f),b=Object(o.m)(f),u=Object(o.l)(f,"DIV",{class:!0});var h=Object(o.j)(u);v&&v.l(h),m=Object(o.m)(h),Object(o.k)(d.$$.fragment,h),h.forEach(o.u),g=Object(o.m)(f),E&&E.l(f),f.forEach(o.u),y.forEach(o.u),j=Object(o.m)(t),O=Object(o.l)(t,"DIV",{id:!0,class:!0});var w=Object(o.j)(O);S&&S.l(w),w.forEach(o.u),this.h()},h(){Object(o.f)(e,"id","map"),Object(o.f)(e,"class","svelte-22zif5"),Object(o.f)(r,"type","button"),Object(o.f)(r,"uk-close",""),Object(o.Q)(r,"position","absolute"),Object(o.Q)(r,"top","10px"),Object(o.Q)(r,"right","10px"),Object(o.f)(u,"class","uk-position-relative"),Object(o.f)(s,"class","uk-card uk-card-body uk-card-default uk-card-small uk-card-hover"),Object(o.f)(c,"id","info-panel"),Object(o.f)(c,"class","uk-position-absolute uk-position-top-left svelte-22zif5"),Object(o.f)(O,"id","locator-map"),Object(o.f)(O,"class","svelte-22zif5")},m(t,n){Object(o.E)(t,e,n),Object(o.H)(a,e,null),Object(o.E)(t,l,n),Object(o.E)(t,c,n),Object(o.d)(c,s),x&&x.m(s,null),Object(o.d)(s,i),Object(o.d)(s,r),Object(o.d)(s,p),k&&k.m(s,null),Object(o.d)(s,b),Object(o.d)(s,u),v&&v.m(u,null),Object(o.d)(u,m),Object(o.H)(d,u,null),Object(o.d)(s,g),E&&E.m(s,null),Object(o.E)(t,j,n),Object(o.E)(t,O,n),S&&S.m(O,null),f=!0,h||(w=Object(o.G)(r,"click",F,{once:!0}),h=!0)},p(t,e){const n={};1&e[0]&&(n.accessToken=t[0].map.accessToken),1&e[0]&&(n.style=t[0].map.styleUrl),16&e[0]&&(n.options={hash:!0,attributionControl:!0,customAttribution:t[4]}),1&e[0]|4&e[1]&&(n.$$scope={dirty:e,ctx:t}),a.$set(n),t[5].map.title?x?x.p(t,e):(x=z(t),x.c(),x.m(s,i)):x&&(x.d(1),x=null),t[0].map.description?k?k.p(t,e):(k=R(t),k.c(),k.m(s,b)):k&&(k.d(1),k=null),t[0].map.locationContext.iso_3166_1?v?v.p(t,e):(v=A(t),v.c(),v.m(u,m)):v&&(v.d(1),v=null);const l={};1&e[0]&&(l.accessToken=t[0].map.accessToken),8&e[0]&&(l.options={clearOnBlur:!0,collapsed:!0,marker:!0,mapboxgl:t[3]}),!y&&4&e[0]&&(y=!0,l.geocoder=t[2],Object(o.b)(()=>y=!1)),d.$set(l),t[0].map.stylesheet?E?E.p(t,e):(E=G(t),E.c(),E.m(s,null)):E&&(E.d(1),E=null),S&&(S.d(1),S=null)},i(t){f||(Object(o.U)(a.$$.fragment,t),Object(o.U)(d.$$.fragment,t),f=!0)},o(t){Object(o.V)(a.$$.fragment,t),Object(o.V)(d.$$.fragment,t),f=!1},d(n){n&&Object(o.u)(e),t[14](null),Object(o.s)(a),n&&Object(o.u)(l),n&&Object(o.u)(c),x&&x.d(),k&&k.d(),v&&v.d(),Object(o.s)(d),E&&E.d(),n&&Object(o.u)(j),n&&Object(o.u)(O),S&&S.d(),h=!1,w()}}}function Q(t){document.getElementsByClassName("mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-search")[0].insertAdjacentHTML("afterEnd",'<span uk-icon="icon: world" style="position:absolute;padding:8px"></span>'),document.getElementsByClassName("mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-search")[0].remove()}function F(){document.getElementById("info-panel").style.display="none"}function Y(t,e,s){let i,r;Object(o.o)(t,S,t=>s(5,r=t));var p=a(103);const{page:b}=Object(N.b)();Object(o.o)(t,b,t=>s(17,i=t));const{GeolocateControl:u,ScaleControl:m}=n.c;let d,y,g,j;Object(l.f)(c,{getMap:()=>d,getMapbox:()=>g});let{appConfig:O={fetch:{locationContext:null},user:{locale:"en-US",language:"en",fallbackLanguage:"en",location:{iso_3166_1:null,geoip:null,gps:null}},map:{configUrl:null,accessToken:null,title:null,description:null,attribution:null,bbox:null,worldviews:["US","CN","IN","JP"],worldview:"US",style:null,styles:[{label:"Satellite",styleName:"Mapbox Satellite",styleUrl:"mapbox://styles/mapbox/satellite-streets-v11"},{label:"Railway",styleName:"Railway",styleUrl:"mapbox://styles/planemad/ck7p3wxmp0q571imu99elwqs1"},{label:"Hydrology",styleName:"Hydrology",styleUrl:"mapbox://styles/planemad/ckd42fwa20n531iqrewerwla1"},{label:"OpenStreetMap",styleName:"OpenStreetMap",styleUrl:"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik-india-v8.json"},{label:"Connectivity",styleName:"Connectivity",styleUrl:"mapbox://styles/planemad/ckhijjwug10ht19mjwvno5o38"}],locationContext:{text:"",fetch:null,geojson:null},source:{geojson:null,vector:null,tms:null,wms:null},camera:{rotate:!1,blur:!1},wikidata:{isEnabled:null}}}}=e;const f=Object(M.a)(i.query.description);function h(){s(0,O.map.styleName=d.getStyle().name,O),s(0,O.map.stylesheet=d.style.stylesheet,O);const t=d.getStyle().layers;let e=null;for(var a=0;a<t.length;a++)if("line"===t[a].type){e=t[a].id;break}let o=null;for(a=0;a<t.length;a++)if("symbol"===t[a].type&&t[a].layout["text-field"]){o=t[a].id;break}if(k>0&&(d.getSource("mapbox-dem")||(d.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),d.setTerrain({source:"mapbox-dem",exaggeration:["interpolate",["linear"],["zoom"],0,k*Math.pow(2,4),1,k*Math.pow(2,3),2,k*Math.pow(2,2),10,k*Math.pow(2,1),16,1]})),d.getLayer("sky")||d.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":2}})),d.getSource("3d-hillshade")||(d.addSource("3d-hillshade",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),d.addLayer({id:"3d-hillshade",source:"3d-hillshade",type:"hillshade",paint:{"hillshade-shadow-color":"#0f0f0f","hillshade-highlight-color":"#ffffff","hillshade-accent-color":"#625e3c","hillshade-exaggeration":["interpolate",["linear"],["zoom"],1,.7,6,.4,16,.1]}},o||null)),O.map.source.tms){const t=new URL(O.map.source.tms);function n(t){return t.includes("wmflabs")?"https://cors-anywhere.herokuapp.com/"+t:t}function l(t){return t.includes("warper")?t.replace("tile/","").split("{")[0]:t}d.addSource("tms",{type:"raster",tiles:[n(O.map.source.tms)],tileSize:512,attribution:`Overlay tiles from <a target="_top" rel="noopener" href="${l(O.map.source.tms)}">${t.hostname}</a>`}),d.addLayer({id:"tms",type:"raster",source:"tms",minzoom:0,maxzoom:22,paint:{"raster-opacity":["interpolate",["linear"],["zoom"],12,.95,15,.8,17,.2]}},e)}if(O.map.source.wms){const t=new URL(O.map.source.wms);function n(t){return t.includes("wmflabs")?"https://cors-anywhere.herokuapp.com/"+t:t}function l(t){return t.includes("warper")?t.replace("tile/","").split("{")[0]:t}d.addSource("wms",{type:"raster",tiles:[n(O.map.source.wms)],tileSize:512,attribution:`Overlay wms from <a target="_top" rel="noopener" href="${l(O.map.source.wms)}">${t.hostname}</a>`}),d.addLayer({id:"wms",type:"raster",source:"wms",minzoom:0,maxzoom:22,paint:{"raster-opacity":["interpolate",["linear"],["zoom"],12,.95,15,.8,17,.2]}},e)}d.getLayer("3d-buildings")||(d.getSource("composite")||d.addSource("composite",{type:"vector",url:"mapbox://mapbox.mapbox-streets-v8"}),d.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.8}},o)),O.map.wikidata.isEnabled&&(d.getSource("wikidata")||(d.addSource("wikidata",{type:"geojson",data:null,attribution:"Wikidata"}),d.addLayer({id:"wikidata-circle",type:"circle",source:"wikidata",paint:{"circle-radius":2}}),d.addLayer({id:"wikidata",type:"symbol",source:"wikidata",paint:{"text-opacity":.6},layout:{"text-field":["get","name"],"text-font":["Open Sans Semibold"],"text-size":12,"text-offset":[0,.2],"text-anchor":"top"}},o)));const c=d.getStyle().layers.filter(t=>"country_boundaries"==t["source-layer"]);let i=d.getSource("country-boundaries");c.length?i=c[0].source:(d.addSource("country-boundaries",{type:"vector",url:"mapbox://mapbox.country-boundaries-v1",tileSize:512,maxzoom:14}),i="country-boundaries"),d.getLayer("country-mask")||(d.addLayer({id:"country-mask",type:"fill",source:i,"source-layer":"country_boundaries",paint:{"fill-color":"hsla(0, 0%, 94%, 0)"}},e),$("country-mask"),d.addLayer({id:"country-mask-outline",type:"line",source:i,"source-layer":"country_boundaries",paint:{"line-color":"hsla(0, 0%, 20%, 0.5)","line-width":["interpolate",["linear"],["zoom"],2,1,6,4]}},o||null),$("country-mask-outline")),w()}function w(t){let e=t&&t.hasOwnProperty("lng")||d.getCenter(),a=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e.lng}%2C${e.lat}.json?access_token=${O.map.accessToken}&worldview=${O.map.worldview.toLocaleLowerCase()}&types=country%2Cregion%2Cdistrict%2Cpostcode%2Clocality%2Cplace%2Cneighborhood%2Caddress%2Cpoi&language=${O.user.language}`;s(0,O.map.locationContext.fetch=fetch(a).then(t=>t.json()).then(t=>(s(0,O.map.locationContext.geojson=t,O),t.features.length&&(s(0,O.map.locationContext.iso_3166_1_label=t.features[t.features.length-1]["text_"+O.user.language],O),s(0,O.map.locationContext.iso_3166_1=t.features[t.features.length-1].properties.short_code.toUpperCase(),O),s(0,O.map.locationContext.text="",O),t.features.forEach(t=>{(t.place_type.indexOf("country")>-1||t.place_type.indexOf("region")>-1&&d.getZoom()>6||t.place_type.indexOf("district")>-1&&d.getZoom()>9)&&s(0,O.map.locationContext.text+=t.text+(-1==t.place_type.indexOf("country")?", ":" "),O)})),function(){if(O.map.locationContext.iso_3166_1){const t=O.map.locationContext.iso_3166_1,e=["place_label","road","country_boundaries","admin"];d.getStyle().layers.filter(t=>e.indexOf(t["source-layer"])>-1).forEach(e=>{if("symbol"==e.type&&(d.setPaintProperty(e.id,"text-opacity",["match",["get","iso_3166_1"],t,1,.5]),d.setLayoutProperty(e.id,"symbol-sort-key",["match",["get","iso_3166_1"],t,0,1]),d.setPaintProperty(e.id,"icon-opacity",["match",["get","iso_3166_1"],t,1,.1])),"fill"==e.type&&"country-mask"==e.id&&d.setPaintProperty(e.id,"fill-color",["case",["in",t,["get","iso_3166_1"]],"hsla(0, 0%, 94%, 0)",["match",["get","disputed"],["true"],!0,!1],"hsla(36, 0%, 10%, 0.05)","hsla(36, 0%, 100%, 0.5)"]),"line"==e.type)if("country-mask-outline"==e.id)d.setPaintProperty(e.id,"line-opacity",["case",["in",t,["get","iso_3166_1"]],1,0]);else{const a=d.getPaintProperty(e.id,"line-opacity")||1;(!Array.isArray(a)||"zoom"!=a[1]&&"zoom"!=a[2])&&d.setPaintProperty(e.id,"line-opacity",["match",["get","iso_3166_1"],t,a||1,.3])}})}O.map.wikidata.isEnabled&&d.getZoom()>8&&function(){Number.prototype.map=function(t,e,a,o){return(this-t)*(o-a)/(e-t)+a};let t=d.getZoom().map(9,14,10,.5);t=t>.5?t:.5;(async function(t){let e=await fetch("https://query.wikidata.org/sparql?query="+encodeURIComponent(t),{headers:{accept:"application/sparql-results+json"}});return(await e.json()).results.bindings})(`\n    SELECT ?item ?itemLabel ?typeLabel (SAMPLE(?item_location) AS ?wkt) ?article ?geoshape WHERE {     \n  SERVICE wikibase:around { \n  ?item wdt:P625 ?item_location .\n  bd:serviceParam wikibase:center "Point(${d.getCenter().lng} ${d.getCenter().lat})"^^geo:wktLiteral .  \n  bd:serviceParam wikibase:radius "${t}" \n}\n    ${d.getZoom()<13?"":"OPTIONAL{"}\n?article schema:about ?item. \n  ?article schema:inLanguage "${O.user.language}".\n  ${d.getZoom()<13?"":"}"}\n\n  ${d.getZoom()<10?"":"OPTIONAL{"}\n    ?item wdt:P3896 ?geoshape.\n    ${d.getZoom()<10?"":"}"}\n  \n    OPTIONAL{\n    ?item wdt:P31 ?type.\n    }\n\nSERVICE wikibase:label { bd:serviceParam wikibase:language "${O.user.language},${O.user.fallbackLanguage}". }\n}\nGROUP BY ?item ?itemLabel ?article ?geoshape ?typeLabel\nLIMIT 200\n    `).then(t=>{let e={type:"FeatureCollection",features:[]};t.forEach(t=>{let a={type:"Feature",properties:{name:t.itemLabel.value,url:t.item.value},geometry:p(t.wkt.value)};e.features.push(a)}),d.getSource("wikidata").setData(e)})}()}(),t)),O)}function $(t,e){const a=["all",["any",["in",e||O.map.worldview,["get","worldview"]],["==","all",["get","worldview"]]]];d.setFilter(t,a)}let x,k,v;return O.map.markers=[],f.querySelectorAll("data").forEach(t=>{O.map.markers.push({lng:parseInt(t.getAttribute("data-lng")),lat:parseInt(t.getAttribute("data-lat"))})}),Object(l.e)(()=>{O.map.configUrl&&fetch(O.map.configUrl).then(t=>t.json()).then(t=>{Object.assign(O.map,t)}),window.location.hash||s(0,O.map.autoLocate=!0,O);const t=document.createElement("link");var e;return t.rel="stylesheet",t.href="https://raw.githack.com/bravecow/mapbox-gl-controls/master/theme.css",document.body.appendChild(t),(e=new XMLHttpRequest).open("GET","https://www.cloudflare.com/cdn-cgi/trace"),e.onreadystatechange=()=>{e.readyState==XMLHttpRequest.DONE&&200==e.status&&(s(0,O.user.location.iso_3166_1=e.responseText.match(/loc=([^\n+]*)/)[1].toUpperCase(),O),O.map.worldviews.indexOf(O.user.location.iso_3166_1)>-1&&s(0,O.map.worldview=O.user.location.iso_3166_1,O),j=T.filter(t=>!("all"!=t.worldview&&t.worldview!=O.mapWorldview||"sovereign state"!=t.description&&"dependent territory"!=t.description)))},e.send(null),()=>{d.remove(),t.parentNode.removeChild(t)}}),t.$$set=t=>{"appConfig"in t&&s(0,O=t.appConfig)},t.$$.update=()=>{131072&t.$$.dirty[0]&&s(0,O.map.configUrl=i.query.config||null,O),131072&t.$$.dirty[0]&&s(4,x=i.query.attribution||null),131073&t.$$.dirty[0]&&s(0,O.map.style=i.query.style?O.map.styles.map(t=>t.label).indexOf(i.query.style)>-1?i.query.style:"Custom":O.map.styles[0].label,O),131073&t.$$.dirty[0]&&s(0,O.map.styleUrl="Custom"==O.map.style?i.query.style:i.query.styleUrl||O.map.styles.filter(t=>t.label==O.map.style)[0].styleUrl||O.map.styleUrl||"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik.json",O),131072&t.$$.dirty[0]&&(k=i.query.terrain||1.5),131072&t.$$.dirty[0]&&s(0,O.map.title=i.query.title||null,O),131072&t.$$.dirty[0]&&s(0,O.map.description=i.query.description?U()(i.query.description,{allowedAttributes:{data:["data-lat","data-lng"]}}):null,O),131072&t.$$.dirty[0]&&(v=i.query.place||""),131073&t.$$.dirty[0]&&s(0,O.map.worldview=i.query.worldview||O.map.worldview,O),131072&t.$$.dirty[0]&&s(0,O.map.accessToken=i.query.access_token||"pk.eyJ1IjoicHVibGljbWFwIiwiYSI6ImNrajZuM3E2MDBtNzkyem55OG9oMjVwNHcifQ.S0ovBPKikZhHZ_6Dexk8Ow",O),131072&t.$$.dirty[0]&&s(0,O.map.source.tms=i.query.tms,O),131072&t.$$.dirty[0]&&s(0,O.map.source.wms=i.query.wms,O),131072&t.$$.dirty[0]&&s(0,O.map.camera.rotate=i.query.rotate_camera,O),131072&t.$$.dirty[0]&&s(0,O.map.camera.blur=i.query.blur,O),131072&t.$$.dirty[0]&&s(0,O.map.wikidata.isEnabled="true"==(i.query.wikidata||"true"),O)},[O,d,y,g,x,r,b,u,m,function(t){d.fitBounds(t.detail.result.bbox),w({lng:t.detail.result.center[0],lat:t.detail.result.center[1]})},function(t){w()},function(t){s(1,d=g.getMap()),s(3,g=g.getMapbox()),g.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",null,!0),O.map.autoLocate&&d.fitBounds(JSON.parse(j.filter(t=>t.iso_3166_1==O.user.location.iso_3166_1)[0].bounds)),O.map.configUrl?(d.setStyle(O.map.styles[0].styleUrl),d.once("styledata",(function(t){h()}))):h()},function(t){const e=new URLSearchParams(window.location.search);e.set("style",t.detail.style.label);const a=`?${e.toString()}${window.location.hash}`;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Public Map",a),s(0,O.map.style=t.detail.style.label,O),d.once("styledata",(function(t){h()}))},w,function(t){o.h[t?"unshift":"push"](()=>{g=t,s(3,g)})},function(t){y=t,s(2,y)}]}class K extends o.a{constructor(t){var e;super(),q.getElementById("svelte-22zif5-style")||((e=Object(o.v)("style")).id="svelte-22zif5-style",e.textContent="#map.svelte-22zif5{height:100vh;z-index:-1}#locator-map.svelte-22zif5{position:absolute;right:10px;bottom:10px}section.svelte-22zif5{z-index:99;margin-top:20px;margin-left:50px;width:400px}.uk-card-default{background:#ffffffbd}#description data{font-weight:bold}.mapboxgl-ctrl-geocoder.mapboxgl-ctrl{width:100%}.mapboxgl-control-container > *:not(.mapboxgl-ctrl-bottom-left) > *{opacity:0;transition:opacity 5s ease-out;z-index:99}.mapboxgl-ctrl-attrib{opacity:1 !important;transition:opacity 0.1s ease-out;z-index:99}.mapboxgl-control-container:hover\n      > *:not(.mapboxgl-ctrl-bottom-left)\n      > *{opacity:1;transition:opacity 0.1s ease-in}",Object(o.d)(q.head,e)),Object(o.D)(this,t,Y,J,o.N,{appConfig:0},[-1,-1])}}var W=K;function X(t){let e,a,n,l,c,s,i,r;function p(e){t[1].call(null,e)}let b={};return void 0!==t[0]&&(b.map=t[0]),s=new W({props:b}),o.h.push(()=>Object(o.g)(s,"map",p)),{c(){e=Object(o.v)("script"),n=Object(o.v)("script"),l=Object(o.T)('window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n    gtag("js", new Date());\n\n    gtag("config", "G-VKRDLTY01M");'),c=Object(o.R)(),Object(o.q)(s.$$.fragment),this.h()},l(t){const a=Object(o.L)('[data-svelte="svelte-nv7bo2"]',document.head);e=Object(o.l)(a,"SCRIPT",{async:!0,src:!0}),Object(o.j)(e).forEach(o.u),n=Object(o.l)(a,"SCRIPT",{});var i=Object(o.j)(n);l=Object(o.n)(i,'window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n    gtag("js", new Date());\n\n    gtag("config", "G-VKRDLTY01M");'),i.forEach(o.u),a.forEach(o.u),c=Object(o.m)(t),Object(o.k)(s.$$.fragment,t),this.h()},h(){document.title="Public Map",e.async=!0,e.src!==(a="https://www.googletagmanager.com/gtag/js?id=G-VKRDLTY01M")&&Object(o.f)(e,"src","https://www.googletagmanager.com/gtag/js?id=G-VKRDLTY01M")},m(t,a){Object(o.d)(document.head,e),Object(o.d)(document.head,n),Object(o.d)(n,l),Object(o.E)(t,c,a),Object(o.H)(s,t,a),r=!0},p(t,[e]){const a={};!i&&1&e&&(i=!0,a.map=t[0],Object(o.b)(()=>i=!1)),s.$set(a)},i(t){r||(Object(o.U)(s.$$.fragment,t),r=!0)},o(t){Object(o.V)(s.$$.fragment,t),r=!1},d(t){Object(o.u)(e),Object(o.u)(n),t&&Object(o.u)(c),Object(o.s)(s,t)}}}function tt(t,e,a){let o;return[o,function(t){o=t,a(0,o)}]}class et extends o.a{constructor(t){super(),Object(o.D)(this,t,tt,X,o.N,{})}}e.default=et},39:function(t,e){},80:function(t,e){}}]);